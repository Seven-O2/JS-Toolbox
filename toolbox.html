<!DOCTYPE html><html><head>
      <title>toolbox</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/allemann/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.6.5/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face {
  font-family: "Material Icons";
  font-style: normal;
  font-weight: 400;
  src: local("Material Icons"), local("MaterialIcons-Regular"), url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff");
}

.admonition {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2);
  position: relative;
  margin: 1.5625em 0;
  padding: 0 1.2rem;
  border-left: .4rem solid rgba(68, 138, 255, .8);
  border-radius: .2rem;
  background-color: rgba(255, 255, 255, 0.05);
  overflow: auto;
}

.admonition>p {
  margin-top: .8rem;
}

.admonition>.admonition-title {
  margin: 0 -1.2rem;
  padding: .8rem 1.2rem .8rem 3.6rem;
  border-bottom: 1px solid rgba(68, 138, 255, .2);
  background-color: rgba(68, 138, 255, .1);
  font-weight: 700;
}

.admonition>.admonition-title:before {
  position: absolute;
  left: 1.2rem;
  font-size: 1.5rem;
  color: rgba(68, 138, 255, .8);
  content: "\E3C9";
}

.admonition>.admonition-title:before {
  font-family: Material Icons;
  font-style: normal;
  font-variant: normal;
  font-weight: 400;
  line-height: 2rem;
  text-transform: none;
  white-space: nowrap;
  speak: none;
  word-wrap: normal;
  direction: ltr;
}

.admonition.summary,
.admonition.abstract,
.admonition.tldr {
  border-left-color: rgba(0, 176, 255, .8);
}

.admonition.summary>.admonition-title,
.admonition.abstract>.admonition-title,
.admonition.tldr>.admonition-title {
  background-color: rgba(0, 176, 255, .1);
  border-bottom-color: rgba(0, 176, 255, .2);
}

.admonition.summary>.admonition-title:before,
.admonition.abstract>.admonition-title:before,
.admonition.tldr>.admonition-title:before {
  color: rgba(0, 176, 255, 1);
  ;
  content: "\E8D2";
}

.admonition.hint,
.admonition.tip {
  border-left-color: rgba(0, 191, 165, .8);
}

.admonition.hint>.admonition-title,
.admonition.tip>.admonition-title {
  background-color: rgba(0, 191, 165, .1);
  border-bottom-color: rgba(0, 191, 165, .2);
}

.admonition.hint>.admonition-title:before,
.admonition.tip>.admonition-title:before {
  color: rgba(0, 191, 165, 1);
  content: "\E80E";
}

.admonition.info,
.admonition.todo {
  border-left-color: rgba(0, 184, 212, .8);
}

.admonition.info>.admonition-title,
.admonition.todo>.admonition-title {
  background-color: rgba(0, 184, 212, .1);
  border-bottom-color: rgba(0, 184, 212, .2);
}

.admonition.info>.admonition-title:before,
.admonition.todo>.admonition-title:before {
  color: rgba(0, 184, 212, 1);
  ;
  content: "\E88E";
}

.admonition.success,
.admonition.check,
.admonition.done {
  border-left-color: rgba(0, 200, 83, .8);
}

.admonition.success>.admonition-title,
.admonition.check>.admonition-title,
.admonition.done>.admonition-title {
  background-color: rgba(0, 200, 83, .1);
  border-bottom-color: rgba(0, 200, 83, .2);
}

.admonition.success>.admonition-title:before,
.admonition.check>.admonition-title:before,
.admonition.done>.admonition-title:before {
  color: rgba(0, 200, 83, 1);
  ;
  content: "\E876";
}

.admonition.question,
.admonition.help,
.admonition.faq {
  border-left-color: rgba(100, 221, 23, .8);
}

.admonition.question>.admonition-title,
.admonition.help>.admonition-title,
.admonition.faq>.admonition-title {
  background-color: rgba(100, 221, 23, .1);
  border-bottom-color: rgba(100, 221, 23, .2);
}

.admonition.question>.admonition-title:before,
.admonition.help>.admonition-title:before,
.admonition.faq>.admonition-title:before {
  color: rgba(100, 221, 23, 1);
  ;
  content: "\E887";
}

.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-left-color: rgba(255, 145, 0, .8);
}

.admonition.warning>.admonition-title,
.admonition.attention>.admonition-title,
.admonition.caution>.admonition-title {
  background-color: rgba(255, 145, 0, .1);
  border-bottom-color: rgba(255, 145, 0, .2);
}

.admonition.attention>.admonition-title:before {
  color: rgba(255, 145, 0, 1);
  content: "\E417";
}

.admonition.warning>.admonition-title:before,
.admonition.caution>.admonition-title:before {
  color: rgba(255, 145, 0, 1);
  content: "\E002";
}

.admonition.failure,
.admonition.fail,
.admonition.missing {
  border-left-color: rgba(255, 82, 82, .8);
}

.admonition.failure>.admonition-title,
.admonition.fail>.admonition-title,
.admonition.missing>.admonition-title {
  background-color: rgba(255, 82, 82, .1);
  border-bottom-color: rgba(255, 82, 82, .2);
}

.admonition.failure>.admonition-title:before,
.admonition.fail>.admonition-title:before,
.admonition.missing>.admonition-title:before {
  color: rgba(255, 82, 82, 1);
  ;
  content: "\E14C";
}

.admonition.danger,
.admonition.error,
.admonition.bug {
  border-left-color: rgba(255, 23, 68, .8);
}

.admonition.danger>.admonition-title,
.admonition.error>.admonition-title,
.admonition.bug>.admonition-title {
  background-color: rgba(255, 23, 68, .1);
  border-bottom-color: rgba(255, 23, 68, .2);
}

.admonition.danger>.admonition-title:before {
  color: rgba(255, 23, 68, 1);
  content: "\E3E7";
}

.admonition.error>.admonition-title:before {
  color: rgba(255, 23, 68, 1);
  content: "\E14C";
}

.admonition.bug>.admonition-title:before {
  color: rgba(255, 23, 68, 1);
  content: "\E868";
}

.admonition.example,
.admonition.snippet {
  border-left-color: rgba(0, 184, 212, .8);
}

.admonition.example>.admonition-title,
.admonition.snippet>.admonition-title {
  background-color: rgba(0, 184, 212, .1);
  border-bottom-color: rgba(0, 184, 212, .2);
}

.admonition.example>.admonition-title:before,
.admonition.snippet>.admonition-title:before {
  color: rgba(0, 184, 212, 1);
  ;
  content: "\E242";
}

.admonition.quote,
.admonition.cite {
  border-left-color: rgba(158, 158, 158, .8);
}

.admonition.quote>.admonition-title,
.admonition.cite>.admonition-title {
  background-color: rgba(158, 158, 158, .1);
  border-bottom-color: rgba(158, 158, 158, .2);
}

.admonition.quote>.admonition-title:before,
.admonition.cite>.admonition-title:before {
  color: rgba(158, 158, 158, 1);
  ;
  content: "\E244";
}

/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="js-toolbox">JS-Toolbox</h1>

<p>Author und &#xA9;: <a href="https://github.com/Seven-O2">Jo&#xEB;l Allemann</a>, auf Basis des Unterrichts von Dierk K&#xF6;nig</p>
<p>Diese Toolbox ist eine Zusammenfassung von wichtigsten Dingen im Zusammenhang mit JavaScript, welche im Unterricht Web Programming (webpr) gelernt wurden.</p>
<p><img src="resources/images/logo_js.png" alt="js_logo"></p>
<h1 class="mume-header" id="inhaltsverzeichnis">Inhaltsverzeichnis</h1>

<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="#js-toolbox">JS-Toolbox</a></li>
<li><a href="#inhaltsverzeichnis">Inhaltsverzeichnis</a></li>
<li><a href="#generell">Generell</a></li>
<li><a href="#variablen">Variablen</a>
<ul>
<li><a href="#const"><code>Const</code></a></li>
<li><a href="#let"><code>Let</code></a></li>
</ul>
</li>
<li><a href="#scopes">Scopes</a>
<ul>
<li><a href="#global"><code>global</code></a>
<ul>
<li><a href="#instanziierung">Instanziierung</a></li>
</ul>
</li>
<li><a href="#function"><code>function</code></a>
<ul>
<li><a href="#instanziierung-1">Instanziierung</a></li>
<li><a href="#variablen-scoping">Variablen-Scoping</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#testen">Testen</a>
<ul>
<li><a href="#dinge-verstehen-und-lernen">Dinge verstehen und lernen</a></li>
</ul>
</li>
<li><a href="#funktionen">Funktionen</a>
<ul>
<li><a href="#deklaration">Deklaration</a>
<ul>
<li><a href="#function-keyword"><code>function</code> Keyword</a></li>
<li><a href="#keyword-lambda"><code>=&gt;</code> Keyword (Lambda)</a></li>
</ul>
</li>
<li><a href="#%C3%BCberladen">&#xDC;berladen</a></li>
<li><a href="#r%C3%BCckgabewerte">R&#xFC;ckgabewerte</a></li>
<li><a href="#sammlungen-von-funktionen">Sammlungen von Funktionen</a></li>
<li><a href="#funktionensupxsup">Funktionenx</a></li>
<li><a href="#curried-vs-multiple-arguments">Curried vs. multiple Arguments</a></li>
<li><a href="#anwendung">Anwendung</a></li>
</ul>
</li>
<li><a href="#lambda-calculus">Lambda Calculus</a>
<ul>
<li><a href="#grundbausteine">Grundbausteine</a>
<ul>
<li><a href="#alpha-alpha-equivalence"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3B1;</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">&#x3B1;</span></span></span></span> - Alpha Equivalence</a></li>
<li><a href="#beta-beta-reduction"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3B2;</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">&#x3B2;</span></span></span></span> - Beta reduction</a></li>
<li><a href="#eta-eta-reduction"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3B7;</mi></mrow><annotation encoding="application/x-tex">\eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">&#x3B7;</span></span></span></span> - Eta reduction</a></li>
<li><a href="#grundfunktionen">Grundfunktionen</a></li>
</ul>
</li>
<li><a href="#pairs">Pairs</a></li>
<li><a href="#either">Either</a></li>
<li><a href="#boolean-logik">Boolean Logik</a>
<ul>
<li><a href="#true-false">True / False</a></li>
<li><a href="#and">AND</a></li>
<li><a href="#or">OR</a></li>
</ul>
</li>
<li><a href="#map">Map</a></li>
<li><a href="#filter">Filter</a></li>
<li><a href="#reduce">Reduce</a></li>
</ul>
</li>
<li><a href="#scripting">Scripting</a>
<ul>
<li><a href="#progressive-web-applikation">Progressive Web-Applikation</a></li>
<li><a href="#expression-evaluation">Expression Evaluation</a>
<ul>
<li><a href="#eval"><code>eval()</code></a></li>
<li><a href="#optimierung-mit-function">Optimierung mit <code>Function</code></a></li>
</ul>
</li>
<li><a href="#referencing">Referencing</a></li>
</ul>
</li>
<li><a href="#objekte-objects">Objekte / Objects</a>
<ul>
<li><a href="#offen-und-dynamisch">Offen und dynamisch</a>
<ul>
<li><a href="#this-keyword"><code>this</code> Keyword</a></li>
<li><a href="#funktionen-aufrufen">Funktionen aufrufen</a></li>
</ul>
</li>
<li><a href="#geschlossen-und-explizit">Geschlossen und explizit</a>
<ul>
<li><a href="#anwendung-1">Anwendung</a></li>
</ul>
</li>
<li><a href="#gemischt-und-klassifiziert">Gemischt und klassifiziert</a></li>
<li><a href="#konstruktoren">Konstruktoren</a></li>
</ul>
</li>
<li><a href="#klassen">Klassen</a>
<ul>
<li><a href="#keyword-class">Keyword <code>class</code></a></li>
<li><a href="#keyword-extends">Keyword <code>extends</code></a></li>
<li><a href="#prototypen">Prototypen</a>
<ul>
<li><a href="#setzen-von-prototypen">Setzen von Prototypen</a></li>
<li><a href="#%C3%A4ndern-von-prototypen">&#xC4;ndern von Prototypen</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#typen">Typen</a>
<ul>
<li><a href="#eingebaute-typen">Eingebaute Typen</a></li>
<li><a href="#jsdoc">JsDoc</a></li>
<li><a href="#funktionen-1">Funktionen</a>
<ul>
<li><a href="#optionalit%C3%A4t">Optionalit&#xE4;t</a></li>
<li><a href="#template">Template</a></li>
</ul>
</li>
<li><a href="#datenstrukturen-klassen">Datenstrukturen / Klassen</a></li>
<li><a href="#typecast">Typecast</a></li>
<li><a href="#sonstige-annotationen">Sonstige Annotationen</a></li>
</ul>
</li>
<li><a href="#patterns">Patterns</a>
<ul>
<li><a href="#observer">Observer</a></li>
<li><a href="#mvc">MVC</a>
<ul>
<li><a href="#model">Model</a></li>
<li><a href="#view">View</a></li>
<li><a href="#controller">Controller</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#asynchrone-programmierung">Asynchrone Programmierung</a>
<ul>
<li><a href="#promise">Promise</a>
<ul>
<li><a href="#async-await">Async / Await</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#koordination">Koordination</a>
<ul>
<li><a href="#keine-koordination">Keine Koordination</a></li>
<li><a href="#sequenz">Sequenz</a></li>
<li><a href="#resultatabh%C3%A4ngigkeit">Resultatabh&#xE4;ngigkeit</a></li>
</ul>
</li>
<li><a href="#strings">Strings</a></li>
<li><a href="#loggen">Loggen</a>
<ul>
<li><a href="#loglevel-programmatisch-setzen">Loglevel programmatisch setzen</a></li>
</ul>
</li>
<li><a href="#arrays">Arrays</a>
<ul>
<li><a href="#spread-operator-an-parameterposition">Spread-Operator <code>...</code> an Parameterposition</a></li>
<li><a href="#spread-operator-an-konstruktorposition">Spread-Operator <code>...</code> an Konstruktorposition</a></li>
<li><a href="#slice">Slice</a></li>
<li><a href="#splice">Splice</a></li>
</ul>
</li>
<li><a href="#semicolons">Semicolons</a></li>
<li><a href="#javascript-iterator-protokol">JavaScript Iterator Protokol</a></li>
</ul>
<h1 class="mume-header" id="generell">Generell</h1>

<p>JavaScript hat keinen Compiler!</p>
<h1 class="mume-header" id="variablen">Variablen</h1>

<p>JavaScript kennt zwar keine Typen, jedoch m&#xFC;ssen Variablen trotzdem deklariert werden. Daf&#xFC;r kennt JavaScript zwei Keywords, <a href="#const">const</a> und <a href="#let">let</a>. Es gibt noch <code>var</code>, sollte jedoch nicht verwendet werden.</p>
<h2 class="mume-header" id="const"><code>Const</code></h2>

<p>Variablen welche mit <code>const</code> instanziiert werden k&#xF6;nnen nicht ver&#xE4;ndert werden (sind &quot;<em>immutable</em>&quot;). Also eine 5 bleibt immer eine 5. Verwendet man Objekte, kann das Objekt nie ge&#xE4;ndert werden. (die Member der Funktion jedoch schon!) Dasselbe gilt f&#xFC;r Arrays.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>                     <span class="token comment">// illegal</span>
obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>       <span class="token comment">// illegal</span>
obj<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>                  <span class="token comment">// allowed</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><div class="admonition info">
<p class="admonition-title">Jede Variable wird aus best-practice mit <code>const</code> angelegt. Muss eine Variable dennoch irgendwann ver&#xE4;ndert werden, wird sie dann auf <code>let</code> ge&#xE4;ndert.</p>
</div>
<h2 class="mume-header" id="let"><code>Let</code></h2>

<p>Variablen welche mit <code>let</code> instanziiert werden k&#xF6;nnen wieder ver&#xE4;ndert werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>                     <span class="token comment">// allowed</span>
obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>       <span class="token comment">// allowed</span>
obj<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>                  <span class="token comment">// allowed</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><h1 class="mume-header" id="scopes">Scopes</h1>

<p>JavaScript bietet zwei Scopes an. Man mag meinen es g&#xE4;be mehrere, jedoch bildet JavaScript alles auf einen der zwei Scopes ab. (wobei es sich meistens um einen <code>function</code> Scope handelt)</p>
<h2 class="mume-header" id="global"><code>global</code></h2>

<p>Der <code>global</code> Scope ist das Fenster (im Browser), also quasi alles was sich auf dem Browserfenster befindet.</p>
<h3 class="mume-header" id="instanziierung">Instanziierung</h3>

<p>Variablen im globalen Scope k&#xF6;nnen wie folgt angelegt werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">    x <span class="token operator">=</span> <span class="token spread operator">...</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><div class="admonition warning">
<p class="admonition-title">Globale Variablen sollten normalerweise nicht verwendet werden.</p>
</div>
<h2 class="mume-header" id="function"><code>function</code></h2>

<p>Der <code>function</code> Scope ist der Scope einer Funktion oder eines Lambdas. Diese sind dann nur Lokal in der Funktion g&#xFC;ltig und werden nach Verlassen der Funktion zerst&#xF6;rt.</p>
<h3 class="mume-header" id="instanziierung-1">Instanziierung</h3>

<p>Variablen im Funktionsscope k&#xF6;nnen wie folgt angelegt werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-var">var</span> x <span class="token operator">=</span> <span class="token spread operator">...</span> <span class="token comment">// &quot;hoisted&quot;</span>
<span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token spread operator">...</span> 
<span class="token keyword keyword-const">const</span> x <span class="token operator">=</span> <span class="token spread operator">...</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p><a href="#let">let</a> und <a href="#const">const</a> werden wie nach Beschreibung im lokalen Scope angelegt.</p>
<div class="admonition warning">
<p class="admonition-title"><code>Hoisted</code> bedeutet, dass die Variable irgendwo im Code definiert werden kann. Beim Ausf&#xFC;hren wird sie dann quasi an den Anfang des Codes gezogen. Das sollte <strong>nie</strong> gemacht werden</p>
</div>
<h3 class="mume-header" id="variablen-scoping">Variablen-Scoping</h3>

<p>In verschiedenen Scopes k&#xF6;nnen auch Variablen mit demselben Namen verwendet werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// so called iife &#x2192; immediately invoked function expression</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// &#x2191; executes the iife</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ 1 0</code></p>
</blockquote>
<h1 class="mume-header" id="testen">Testen</h1>

<h2 class="mume-header" id="dinge-verstehen-und-lernen">Dinge verstehen und lernen</h2>

<p>Testen in JavaScript geht ganz einfach ohne Framework. M&#xF6;chte man zum Beispiel einfach etwas auf das Dokument schreiben, geht dies mit <code>document.writeln(&quot;&quot;)</code>. Man kann darin auch Statements anzeigen, zum Beispiel pr&#xFC;fen ob 1 wirklich 1 ist.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Hallo!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre><blockquote>
<p><code>$ Hallo true</code></p>
</blockquote>
<h1 class="mume-header" id="funktionen">Funktionen</h1>

<div class="admonition info">
<p class="admonition-title">Eine Funktion ist ein Objekt</p>
</div>
<p>Funktionen oder auch Subroutinen sind in der Programmierung Codest&#xFC;cke, welche nicht bei der Initialisierung direkt ausgef&#xFC;hrt werden m&#xFC;ssen, sondern wenn immer n&#xF6;tig aufgerufen werden k&#xF6;nnen</p>
<h2 class="mume-header" id="deklaration">Deklaration</h2>

<p>Funktionen k&#xF6;nnen (sinnvoll) auf zwei verschiedene Arten deklariert werden. Einmal mit dem Keyword <a href="#function-keyword">function</a> und einmal mit einem <a href="#keyword-lambda">Lambda</a>.</p>
<h3 class="mume-header" id="function-keyword"><code>function</code> Keyword</h3>

<p>Funktionen die mit dem Keyword <code>function</code> deklariert werden, sehen syntaktisch am sch&#xF6;nsten aus. Der R&#xFC;ckgabewert wird nicht explizit vor dem Namen, sondern mit dem <code>return</code> Wert implizit definiert.</p>
<div class="admonition warning">
<p class="admonition-title">Achtung, eine Funktion welche mit dem <code>function</code> Keyword deklariert wird, kann von einer gleichnamigen Funktion &#xFC;berschrieben werden!</p>
</div>
<p>Eine Funktion mit dem function Keyword in JavaScript sieht so aus:</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-function">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> arg<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">// |       |  |</span>
<span class="token comment">// |       |  Argumente, hier eines mit dem Namen &quot;arg&quot;</span>
<span class="token comment">// |       Name der Funktion</span>
<span class="token comment">// Keyword, es folgt die Deklaration einer Funktion</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="keyword-lambda"><code>=&gt;</code> Keyword (Lambda)</h3>

<p>Funktionen in JavaScript k&#xF6;nnen auch mit <code>() =&gt;</code> erstellt werden. Es wird in eine Funktion evaluiert. Deklarationen welche anstelle der <code>()</code> stehen, definieren die Parameter der Funktion.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">tok</span> <span class="token operator">=</span> <span class="token parameter">arg</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> arg<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">//     |</span>
<span class="token comment">//     Funktionsreferenz</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><div class="admonition success">
<p class="admonition-title">Der Vorteil davon ist, ist dass <code>tok</code> nicht mehr &#xFC;berschrieben werden kann, da es mit <code>const</code> initialisiert ist.</p>
</div>
<p>Wichtig zu bedenken ist, dass <code>=&gt;</code> auch f&#xFC;r Ausdr&#xFC;cke verwendet werden kann. Fehlen die <code>{}</code>, wird die Funktion in einen Ausdruck evaluiert. Es wird kein <code>return</code> ben&#xF6;tigt, jedoch kann der Ausdruck auch nicht (fehlerfrei) aufgerufen werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">tok</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>  <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token punctuation">(</span>tok <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre><blockquote>
<p><code>$ true</code></p>
</blockquote>
<h2 class="mume-header" id="%C3%BCberladen">&#xDC;berladen</h2>

<p>Funktionen k&#xF6;nnen nicht &#xDC;berladen werden, denn der Funktionsdispatcher funktioniert anders wie bei anderen Programmiersprachen. Bei JavaScript merkt er sich vereinfacht gesehen nur den Namen der Funktion, und nicht wie bei zum Beispiel Java die komplette Funktionssignatur.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-function">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre><blockquote>
<p><code>$ true</code></p>
</blockquote>
<div class="admonition info">
<p class="admonition-title">Eine Funktion welche keine Parameter nimmt, kann mit Parametern aufgerufen werden. Die Funktion wird (wenn auch mit Fehlern) aufgerufen.</p>
</div>
<p>Bei JavaScript ist der Name der Funktion schon ein Ausdruck, das bedeutet es k&#xF6;nnen zwar Kopien erstellt werden (<code>blah = fun</code>), und <code>blah</code> kann auch mit <code>blah()</code> die Funktion <code>fun</code> aufrufen, beim &#xDC;berladen wird jedoch nur die zuletzt deklarierte Funktion geladen.</p>
<h2 class="mume-header" id="r%C3%BCckgabewerte">R&#xFC;ckgabewerte</h2>

<p>Wird kein <code>return</code> angegeben, wird davon ausgegangen, dass es sich um eine <code>void</code>-Funktion handelt. F&#xFC;r alle anderen <code>return</code> Werte wird der entsprechende Wert zur&#xFC;ck gegeben.</p>
<h2 class="mume-header" id="sammlungen-von-funktionen">Sammlungen von Funktionen</h2>

<p>Funktionen, bzw. Referenzen auf Funktionen k&#xF6;nnen auch in einem Array gespeichert werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">fun1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> funs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span> <span class="token keyword nil keyword-undefined">undefined</span><span class="token punctuation">,</span> fun1<span class="token punctuation">,</span> fun2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>funs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true</code></p>
</blockquote>
<h2 class="mume-header" id="funktionensupxsup">Funktionen<sup>x</sup></h2>

<p>JavaScript erlaubt das Zur&#xFC;ckgeben von Funktionen in Funktionen (in Funktionen in Funktionen ...).</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-function">function</span> <span class="token function">doit</span><span class="token punctuation">(</span><span class="token parameter">whatToDo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-function">function</span> <span class="token function">bla</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token function">whatToDo</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">doit2</span> <span class="token operator">=</span> <span class="token parameter">callme</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">arg</span> <span class="token arrow operator">=&gt;</span> <span class="token function">callme</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Both do the same thing!</span>

<span class="token function">doit</span><span class="token punctuation">(</span>fun1<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">doit2</span><span class="token punctuation">(</span>fun1<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Beim Aufrufen der Funktion doit, bzw. doit2 wird eine weitere Funktion zur&#xFC;ckgegeben, welche dann wieder mit einem Argument aufgerufen werden kann. Das bedeutet, der Ausdruck <code>doit(fun1)</code> ist selbst auch vom Typ Funktion.</p>
<div class="admonition info">
<p class="admonition-title">Diese Funktionen werden auch curried Functions genannt.</p>
</div>
<h2 class="mume-header" id="curried-vs-multiple-arguments">Curried vs. multiple Arguments</h2>

<p>In JavaScript k&#xF6;nnen Funktionen curried (zusammengeh&#xE4;ngt) oder mit mehreren Argumenten definiert werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">b</span> <span class="token arrow operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ &quot;Hiundefined&quot; b =&gt; a + b</code></p>
</blockquote>
<p>Beim Verwenden von mehreren Argumenten in einer Funktion wird versucht, das bestm&#xF6;gliche Resultat zu erzielen, auch wenn das nicht immer das ist was man erwartet.<br>
Mit <code>curried</code> Funktionen wird nicht einfach etwas gemacht, sondern es wird dargestellt, dass hier noch eine Funktion ist, die ein Argument m&#xF6;chte.<br>
Zus&#xE4;tzlich erlaubt es <code>curried</code>, Funktionen zu schreiben, welche nur Teilweise ausgef&#xFC;hrt wurden.</p>
<h2 class="mume-header" id="anwendung">Anwendung</h2>

<p>Infolge ist ein Beispiel bei welchem Funktionen eine grosse Rolle spielen. Ein Timer zeichnet das Feld alle 1000/40 Sekunden neu, und berechnet darauf die Position des Balls neu.</p>
<pre data-role="codeBlock" data-info="javascript {.line-number}" class="language-javascript line-number"><span class="token comment">//... unrelated html</span>
<span class="token keyword keyword-const">const</span> radius <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> ball <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">400</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> dx<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> dy<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> old <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> ball<span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">,</span> y<span class="token operator">:</span> ball<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-function">function</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> canvas <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token method function property-access">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token property-access">fillStyle</span> <span class="token operator">=</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// Refreshes every 1000/40 seconds</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token property-access">dx</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.1</span> <span class="token operator">&amp;&amp;</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token property-access">dy</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token function">nextBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">display</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-function">function</span> <span class="token function">nextBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  old<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">=</span> ball<span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">;</span>
  old<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">=</span> ball<span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">&gt;=</span> <span class="token number">390</span> <span class="token operator">&amp;&amp;</span> ball<span class="token punctuation">.</span><span class="token property-access">dy</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ball.y &lt; 0 cannot occur due to conservation of energy</span>
    ball<span class="token punctuation">.</span><span class="token property-access">dy</span> <span class="token operator">-=</span> <span class="token number">3.5</span><span class="token punctuation">;</span>
    ball<span class="token punctuation">.</span><span class="token property-access">dy</span> <span class="token operator">*=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    ball<span class="token punctuation">.</span><span class="token property-access">dx</span> <span class="token operator">*=</span> <span class="token number">0.95</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">&lt;=</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> ball<span class="token punctuation">.</span><span class="token property-access">dx</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ball<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">&gt;=</span> <span class="token number">390</span> <span class="token operator">&amp;&amp;</span> ball<span class="token punctuation">.</span><span class="token property-access">dx</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ball<span class="token punctuation">.</span><span class="token property-access">dx</span> <span class="token operator">*=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    ball<span class="token punctuation">.</span><span class="token property-access">dx</span> <span class="token operator">*=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  ball<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">+=</span> ball<span class="token punctuation">.</span><span class="token property-access">dx</span><span class="token punctuation">;</span>
  ball<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">+=</span> ball<span class="token punctuation">.</span><span class="token property-access">dy</span><span class="token punctuation">;</span>
  ball<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token number">390</span><span class="token punctuation">,</span> ball<span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ball<span class="token punctuation">.</span><span class="token property-access">dy</span> <span class="token operator">+=</span> <span class="token number">1.5</span><span class="token punctuation">;</span>      <span class="token comment">// constant acceleration</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-function">function</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">clearRect</span><span class="token punctuation">(</span>old<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">-</span> radius <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> old<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">-</span> radius <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">arc</span><span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">,</span> ball<span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6.3</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ... unrelated html</span>
</pre><iframe src="resources/javascript/Ball/Ball.html" frameborder="0" style="height:440px; width: 100%">
The ball script should be here :(
</iframe>
<p><a href="resources/javascript/Ball/Ball.js">Source</a></p>
<h1 class="mume-header" id="lambda-calculus">Lambda Calculus</h1>

<p>Mithilfe des Lambda Calculus kann alles berechenbare berechnet werden. JavaScript basiert auf diesen Lambda Calculus Eigenschaften.</p>
<div class="admonition info">
<p class="admonition-title"><code>x =&gt; x</code> in JavaScript ist das gleiche wie <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3BB;</mi><mi>x</mi><mi mathvariant="normal">.</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\lambda x . x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">&#x3BB;</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mord mathnormal">x</span></span></span></span> im Lambda Calculus</p>
</div>
<h2 class="mume-header" id="grundbausteine">Grundbausteine</h2>

<h3 class="mume-header" id="alpha-alpha-equivalence"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3B1;</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">&#x3B1;</span></span></span></span> - Alpha Equivalence</h3>

<div class="admonition quote">
<p class="admonition-title">Rename parameter</p>
</div>
<p>Der Name in einem Lambda ist nicht ausschlaggebend f&#xFC;r eine Funktion. Er kann umbenannt werden wie man m&#xF6;chte, der Effekt der Funktion &#xE4;ndert sich nicht.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">id1</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">id2</span> <span class="token operator">=</span> <span class="token parameter">gurkensalat</span> <span class="token arrow operator">=&gt;</span> gurkensalat
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></pre><h3 class="mume-header" id="beta-beta-reduction"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3B2;</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">&#x3B2;</span></span></span></span> - Beta reduction</h3>

<div class="admonition quote">
<p class="admonition-title">Apply argument</p>
</div>
<p>Reduzieren der Argumente von mehreren Funktionen auf das endg&#xFC;ltige Resultat. Also Quasi das ersetzen von Variablen durch den effektiven Wert.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">id</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x<span class="token punctuation">;</span>
<span class="token punctuation">(</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token function">f</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// f evaluates to 1</span>
<span class="token punctuation">(</span>      <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token function">id</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>      <span class="token comment">// x evaluates to 1</span>
<span class="token punctuation">(</span>           <span class="token function">id</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment">// id = &quot;x =&gt; x&quot;</span>
<span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x <span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>               <span class="token comment">// x evaluates to 1</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="eta-eta-reduction"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>&#x3B7;</mi></mrow><annotation encoding="application/x-tex">\eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">&#x3B7;</span></span></span></span> - Eta reduction</h3>

<div class="admonition quote">
<p class="admonition-title">Cancel parameter</p>
</div>
<p>Wenn das letzte Argument auf der rechten Seite dasselbe ist wie das letzte Argument auf der Linken Seite, darf dieses gel&#xF6;scht (gek&#xFC;rzt) werden. (Solange &quot;plus&quot; im Beispiel keine Nebenwirkungen hat)</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>    <span class="token comment">// Implementation of function  ...</span>
<span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span>      <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>       <span class="token comment">// ... with eta reduction ...</span>
          plus          <span class="token comment">// ... gives us the reference to the function</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="grundfunktionen">Grundfunktionen</h3>

<p>Alles was sich im Lambda Calculus berechnen l&#xE4;sst, l&#xE4;sst sich auf 3 Grundfunktionen zur&#xFC;ckf&#xFC;hren:</p>
<ul>
<li><code>const id = y =&gt; y;</code></li>
<li><code>const konst = x =&gt; y =&gt; x;</code></li>
<li>(selten verwendet)</li>
</ul>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// const kite = x =&gt; y =&gt; y;        // Expand with ID</span>
<span class="token comment">// const kite = x =&gt; y =&gt; id(y)     // Eta reduction</span>
<span class="token comment">// const kite = x =&gt; id;            // Expand with konst</span>
<span class="token comment">// const kite = x =&gt; konst(id)(x)   // Eta reduction</span>
<span class="token keyword keyword-const">const</span> kite <span class="token operator">=</span> <span class="token function">konst</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>              <span class="token comment">// Finished!</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">kite</span><span class="token punctuation">(</span><span class="token keyword nil keyword-undefined">undefined</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true</code></p>
</blockquote>
<h2 class="mume-header" id="pairs">Pairs</h2>

<p>Pairs sind Paare von Daten, wo zwei (idealerweise miteinander verwandte Daten)  abgespeichert werden k&#xF6;nnen. Wie viele andere Dinge kann diese Datenstruktur auch mit Lambda-Calculus nachgebildet werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Pair</span></span> <span class="token operator">=</span> <span class="token parameter">fn</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">ln</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">selector</span> <span class="token arrow operator">=&gt;</span> <span class="token function">selector</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">(</span>ln<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">firstname</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> x<span class="token punctuation">;</span>  <span class="token comment">// konst</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">lastname</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> y<span class="token punctuation">;</span>   <span class="token comment">// snd</span>

<span class="token keyword keyword-const">const</span> joel <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Pair</span></span><span class="token punctuation">(</span><span class="token string">&quot;Joel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&quot;Allemann&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// immutable, because &quot;Pair =&gt; fn =&gt; ln&quot;, fn /ln are a closure</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">joel</span><span class="token punctuation">(</span>firstname<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;Joel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">joel</span><span class="token punctuation">(</span>lastname<span class="token punctuation">)</span>  <span class="token operator">===</span> <span class="token string">&quot;Allemann&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true true</code></p>
</blockquote>
<h2 class="mume-header" id="either">Either</h2>

<p>Either bedeutet entweder das eine oder das andere. Man kann also einen Ausdruck aufrufen, und kriegt entweder den ersten Wert oder den zweiten Wert zur&#xFC;ck.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Left</span></span>   <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">g</span> <span class="token arrow operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Right</span></span>  <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">g</span> <span class="token arrow operator">=&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Either</span></span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">handleLeft</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">handleRight</span> <span class="token arrow operator">=&gt;</span> <span class="token function">e</span><span class="token punctuation">(</span>handleLeft<span class="token punctuation">)</span><span class="token punctuation">(</span>handleRight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// can be replaced with id</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">safeDiv</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">divisor</span> <span class="token arrow operator">=&gt;</span>
    divisor <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function"><span class="token maybe-class-name">Left</span></span><span class="token punctuation">(</span><span class="token string">&quot;schlecht!&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function"><span class="token maybe-class-name">Right</span></span><span class="token punctuation">(</span>num <span class="token operator">/</span> divisor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token function"><span class="token maybe-class-name">Either</span></span><span class="token punctuation">(</span> <span class="token function">safeDiv</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span>
      <span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function"><span class="token maybe-class-name">Either</span></span><span class="token punctuation">(</span> <span class="token function">safeDiv</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span>
      <span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ 1 schlecht!</code></p>
</blockquote>
<div class="admonition warning">
<p class="admonition-title">Zu bedenken ist, dass die Either-Methode nicht ausgef&#xFC;hrt wird, wenn entweder der Linke und der Rechte Wert nicht bearbeitet wird.</p>
</div>
<div class="admonition success">
<p class="admonition-title">Der Vorteil ist, dass man im &quot;guten&quot; Teil nie ein undefined oder falscher Wert stehen wird.</p>
</div>
<h2 class="mume-header" id="boolean-logik">Boolean Logik</h2>

<p>Mit Lambdas kann auch boolean Logik gebaut werden.</p>
<h3 class="mume-header" id="true-false">True / False</h3>

<p>Um True / False darzustellen, wird ganz einfach ein T und ein F definiert.</p>
<ul>
<li><code>T</code> gibt &quot;1&quot; zur&#xFC;ck, wenn das erste Argument 1 ist.</li>
<li><code>F</code> gibt &quot;1&quot; zur&#xFC;ck, wenn das zweite Argument 1 ist.</li>
</ul>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">konst</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> x<span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">snd</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> y<span class="token punctuation">;</span>
<span class="token constant">T</span> <span class="token operator">=</span> konst<span class="token punctuation">;</span>  <span class="token comment">// True Function</span>
<span class="token constant">F</span> <span class="token operator">=</span> snd<span class="token punctuation">;</span>    <span class="token comment">// False Function</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true true</code></p>
</blockquote>
<div class="admonition success">
<p class="admonition-title">Damit lassen sich nun ganze Logikgatter nachbauen.</p>
</div>
<h3 class="mume-header" id="and">AND</h3>

<p>AND bedeutet, dass beide Inputs auf <strong>true</strong> sein m&#xFC;ssen damit auch der Output <strong>true</strong> ist.</p>
<table>
<thead>
<tr>
<th>a</th>
<th>b</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td><strong>1</strong></td>
<td>0</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td><strong>1</strong></td>
<td><strong>1</strong></td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">//                   x = &#x2193;   TRUE  &#x2193;&#x2193;  FALSE  &#x2193;</span>
<span class="token comment">//const and = x =&gt; y =&gt; x( y(T)(F) )( y(F)(F) )</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">and</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> <span class="token function">x</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true true true true</code></p>
</blockquote>
<h3 class="mume-header" id="or">OR</h3>

<p>Die OR Funktion</p>
<table>
<thead>
<tr>
<th>a</th>
<th>b</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td><strong>1</strong></td>
<td><strong>1</strong></td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>0</td>
<td><strong>1</strong></td>
</tr>
<tr>
<td><strong>1</strong></td>
<td><strong>1</strong></td>
<td><strong>1</strong></td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">//const or = x =&gt; y =&gt; x(y(T)(T))(y(T)(F))</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">or</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> <span class="token function">x</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>

<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true true true true</code></p>
</blockquote>
<h2 class="mume-header" id="map">Map</h2>

<p>Das mappen von Daten bedeutet, dass auf jedes Element in einer Menge eine Funktion angewendet wird. Beim Anwenden einer <code>map</code> wird immer dieselbe Menge und der selbe Datentyp der Menge zur&#xFC;ck gegeben.</p>
<div class="admonition info">
<p class="admonition-title">Es &#xE4;ndern sich nur die einzelnen Elemente. (Und unter Umst&#xE4;nden ihre Datentypen)</p>
</div>
<blockquote>
<p><code>[1, 2, 3] &#x2192; x =&gt; x * 2 &#x2192; [2, 4, 6]</code></p>
</blockquote>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">times</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">b</span> <span class="token arrow operator">=&gt;</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token function">times</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// lambda calculus allows for eta-reduction</span>
<span class="token keyword keyword-const">const</span> twoTimes <span class="token operator">=</span> <span class="token function">times</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name a specific function &#x2192; alpha-reduction</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span>twoTimes<span class="token punctuation">)</span>     
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><h2 class="mume-header" id="filter">Filter</h2>

<p>Das Filtern von Daten bedeutet, dass auf jedes Element in einer Menge auf eine Condition gepr&#xFC;ft wird. Beim Anwenden eines <code>filters</code> werden alle Elemente aus der Liste entfernt (oder behalten), auf welchem eine Condition <code>true</code> (oder <code>false</code>) gibt. Dabei wird der Datentyp der Liste, sowie die einzelnen Elemente welche noch behalten werden, nicht ge&#xE4;ndert.</p>
<div class="admonition info">
<p class="admonition-title">Es &#xE4;ndert sich nur die Menge an Elementen.</p>
</div>
<blockquote>
<p><code>[1, 2, 3] &#x2192; x =&gt; x % 2 === 1 &#x2192; [1, 3]</code></p>
</blockquote>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">odd</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token function">odd</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// name a specific function &#x2192; alpha-reduction</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// lambda calculus allows for eta-reduction</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><h2 class="mume-header" id="reduce">Reduce</h2>

<p>Das Reduzieren von Daten bedeutet, dass auf jedes Element zusammen in der Menge eine kombinierende Funktion angewendet wird. Dabei wird auf das 1. und 2. Element die Funktion angewendet, dann auf das Resultat davon mit dem 3. Element etc. Dabei spricht man vom ersten Element (im Beispiel unten <code>x</code>) vom Akkumulator, und vom zweiten Element (im Beispiel unten <code>y</code>) vom Current.</p>
<div class="admonition info">
<p class="admonition-title">Es &#xE4;ndern sich alles bis auf den Datentyp, dieser bleibt auf dem Typ des Akkumulators.</p>
</div>
<blockquote>
<p><code>[1, 2, 3] &#x2192; x =&gt; y =&gt; x + y &#x2192; 6</code></p>
</blockquote>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">plus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">accu<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> accu <span class="token operator">+</span> cur<span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accu<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> accu <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>plus<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>plus<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// The 0 sets the start value and the datatype</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>plus<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>plus<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>acc<span class="token punctuation">,</span> cur<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Copies an array</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ 6 &quot;123&quot; [1, 2, 3]</code></p>
</blockquote>
<div class="admonition info">
<p class="admonition-title">Das Setzen des zweiten Arguments der <code>reduce</code> Funktion hat zwei Vorteile. Zum einen ist klar definiert, welcher Wert gesetzt ist, wenn die Liste leer ist. Zum anderen ist der Datentyp klar definiert.</p>
</div>
<h1 class="mume-header" id="scripting">Scripting</h1>

<p>Scripting ist ein komplett eigenes Paradigma in der Welt von JavaScript. Vieles kann mit Scripting sehr einfach programmiert werden, wie zum Beispiel Automation, Build Systeme, Command Line, self-modifying-code etc. Scripting bedeutet, dass der Code als Text w&#xE4;hrend der Laufzeit &quot;gelesen&quot; wird und dann evaluiert wird, das ist auch als <em>interpretiert</em> bekannt.</p>
<h2 class="mume-header" id="progressive-web-applikation">Progressive Web-Applikation</h2>

<p>Eine Web-Applikation bei welcher der (komplette) Code noch nicht bekannt ist. Dieser l&#xE4;dt sich dann progressiv, je nach Verlangen, nach.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// First solution, loading everything (non dynamic)</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;function/function.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;function/functionTest.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;lambda/lambda.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;lambda/lambdaTest.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;snake/snake.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;snake/snakeTest.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token comment">// Better solution with &quot;unlimited&quot; programs</span>
<span class="token keyword keyword-const">const</span> testSuite <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lambda&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;snake&quot;</span><span class="token punctuation">,</span>  
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// execute for each element in testSuite</span>
testSuite<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// obfuscation, because else JavaScript would see this        (&#x2193;) as end of script </span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;script src=\&quot;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;.js\&quot;&gt;&lt;/&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;script&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;script src=\&quot;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;Test.js\&quot;&gt;&lt;/&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;script&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>true true true t..</code></p>
</blockquote>
<p>Progressiv ist hier, dass die Programme sowie deren Test-Programme erst im Nachhinein geladen werden, w&#xE4;hrend das Hauptprogramm schon gestartet ist. Dies erlaubt unter anderem hier diese sch&#xF6;ne TestSuite aufzubauen, welche (anstatt jede Datei aufzuschreiben) nur den Namen ben&#xF6;tigt.</p>
<div class="admonition warning">
<p class="admonition-title">Progressives Laden darf normalerweise nur aus der selben Quelle geschehen. Mit diesem Trick kann das jedoch ganz einfach umgangen werden.</p>
</div>
<h2 class="mume-header" id="expression-evaluation">Expression Evaluation</h2>

<p>JavaScript bietet die M&#xF6;glichkeit, externe Expressions zur Laufzeit zu evaluieren und auszuf&#xFC;hren. Daf&#xFC;r gibt es eine Applikation <strong>Function Plotter</strong>, welcher eine eine beliebige Funktion auf einem Canvas zeichnet.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">//... unrelated html</span>
<span class="token keyword keyword-function">function</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> userFunction <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;user_function&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> canvas       <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;canvas&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
  <span class="token comment">// run display with canvas and user evaluated function</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">displayIt</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">display</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token function">eval</span><span class="token punctuation">(</span>userFunction<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
  <span class="token function">displayIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  userFunction<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">displayIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-function">function</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token parameter">canvas<span class="token punctuation">,</span> f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// clear</span>
  <span class="token keyword keyword-const">const</span> context     <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token method function property-access">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token property-access">fillStyle</span> <span class="token operator">=</span> <span class="token string">&quot;papayawhip&quot;</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token property-access">width</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token property-access">height</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// draw the function plot</span>
  <span class="token keyword keyword-const">const</span> normx <span class="token operator">=</span> <span class="token function">normalizeX</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span><span class="token property-access">width</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> normy <span class="token operator">=</span> <span class="token function">normalizeY</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span><span class="token property-access">height</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span><span class="token property-access">fillStyle</span> <span class="token operator">=</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token method function property-access">moveTo</span><span class="token punctuation">(</span><span class="token function">normx</span><span class="token punctuation">(</span>minX<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">normy</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>minX<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> stride <span class="token operator">=</span> <span class="token punctuation">(</span>maxX <span class="token operator">-</span> minX<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 100 St&#xFC;tzstellen</span>
  <span class="token keyword control-flow keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> minX<span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> maxX<span class="token punctuation">;</span> x <span class="token operator">+=</span> stride<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span><span class="token method function property-access">lineTo</span><span class="token punctuation">(</span><span class="token function">normx</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">normy</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token method function property-access">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">normalizeY</span> <span class="token operator">=</span> <span class="token parameter">height</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> scaleFactor <span class="token operator">=</span> height <span class="token operator">/</span> <span class="token punctuation">(</span>maxY <span class="token operator">-</span> minY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> height <span class="token operator">-</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> minY<span class="token punctuation">)</span> <span class="token operator">*</span> scaleFactor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">normalizeX</span> <span class="token operator">=</span> <span class="token parameter">width</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> scaleFactor <span class="token operator">=</span> width <span class="token operator">/</span> <span class="token punctuation">(</span>maxX <span class="token operator">-</span> minX<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span> x <span class="token operator">-</span> minX<span class="token punctuation">)</span> <span class="token operator">*</span> scaleFactor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//... unrelated html</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><iframe src="resources/javascript/Plotter/Plotter.html" frameborder="0" style="height:650px; width: 100%">
The plotter script should be here :(
</iframe>
<p><a href="resources/javascript/Plotter/Plotter.js">Source</a></p>
<p>Der Plotter verwendet die Funktion <code>eval()</code> um vom Benutzer eingegebene Funktionen zu evaluieren. Wird zum Beispiel die Funktion <code>Math.sin(x)</code> verwendet, evaluiert sie zum gleichgeschriebenen Code, und mithilfe von <code>x =&gt; ...</code> wird sie zu einer richtig ausf&#xFC;hrbaren Funktion.</p>
<h3 class="mume-header" id="eval"><code>eval()</code></h3>

<p>Die Funktion <code>eval()</code> f&#xFC;hrt einen beliebigen String Code aus, welcher als Parameter mitgegeben wird. Eval kann auf den gesamten Scope, aus dem die Funktion aufgerufen wird, ausgef&#xFC;hrt werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;console.log(\&quot;Hello!\&quot;)&quot;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><blockquote>
<p><code>Hello!</code></p>
</blockquote>
<h3 class="mume-header" id="optimierung-mit-function">Optimierung mit <code>Function</code></h3>

<p>Das Problem an <code>eval()</code> ist, dass bei jedem Aufruf alles erneut geparsed wird. <code>Function</code> kann dasselbe wie <code>eval()</code>, macht jedoch direkt eine Referenz auf eine ausf&#xFC;hrbahre Funktion. Zus&#xE4;tzlich hat diese Funktion (wie alle Funktionen), nur Zugriff auf den <a href="#global">globalen Scope</a> sowie auf seinen eigenen <a href="#function">Funktionsscope</a>.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">displayIt</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">display</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> <span class="token known-class-name class-name">Function</span><span class="token punctuation">(</span><span class="token string">&apos;x&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;return &apos;</span> <span class="token operator">+</span> userFunction<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><p>Wichtig, da es sich hier um eine &quot;konventionelle&quot; Funktion handelt, muss der Wert am Schluss unbedingt mit <code>return</code> zur&#xFC;ckgegeben werden.</p>
<h2 class="mume-header" id="referencing">Referencing</h2>

<p>Zum Teil m&#xFC;ssen von Programmen Werte aus Feldern / Forms lesen. F&#xFC;r das kann man in JavaScript auf deren Referenzen (wie in css mit #id) zugreifen und deren Werte auslesen. In der Excel Applikation wird genau das gemacht - es wird &#xFC;ber die ID auf die jeweiligen Elemente zugegriffen und deren Werte evaluiert.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">//... unrelated html</span>
<span class="token comment">// Construct the initial table</span>
<span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">Formulae</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">A1</span><span class="token operator">:</span> <span class="token string">&apos;1&apos;</span><span class="token punctuation">,</span> <span class="token constant">B1</span><span class="token operator">:</span> <span class="token string">&apos;1&apos;</span><span class="token punctuation">,</span> <span class="token constant">C1</span><span class="token operator">:</span> <span class="token string">&apos;n(A1) + n(B1)&apos;</span><span class="token punctuation">,</span>
  <span class="token constant">A2</span><span class="token operator">:</span> <span class="token string">&apos;2&apos;</span><span class="token punctuation">,</span> <span class="token constant">B2</span><span class="token operator">:</span> <span class="token string">&apos;2&apos;</span><span class="token punctuation">,</span> <span class="token constant">C2</span><span class="token operator">:</span> <span class="token string">&apos;n(A2) + n(B2)&apos;</span><span class="token punctuation">,</span>
  <span class="token constant">A3</span><span class="token operator">:</span> <span class="token string">&apos;n(A1) + n(A2)&apos;</span><span class="token punctuation">,</span> <span class="token constant">B3</span><span class="token operator">:</span> <span class="token string">&apos;n(B1) + n(B2)&apos;</span><span class="token punctuation">,</span> <span class="token constant">C3</span><span class="token operator">:</span> <span class="token string">&apos;n(C1) + n(C2)&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> cols <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> rows <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword keyword-function">function</span> <span class="token function">startExcel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> dataContainer <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;dataContainer&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fillTable</span><span class="token punctuation">(</span>dataContainer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-function">function</span> <span class="token function">fillTable</span><span class="token punctuation">(</span><span class="token parameter">container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rows<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> tr <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;TR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cols<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">col</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-const">const</span> td <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;TD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword keyword-const">const</span> input <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;INPUT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword keyword-const">const</span> cellid <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> col <span class="token operator">+</span> row<span class="token punctuation">;</span>
      input<span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;VALUE&quot;</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Formulae</span><span class="token punctuation">[</span>cellid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      input<span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">,</span> cellid<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Register a listener, which updates the Formulae table on change</span>
      input<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onchange</span> <span class="token operator">=</span> <span class="token parameter">evt</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token maybe-class-name">Formulae</span><span class="token punctuation">[</span>cellid<span class="token punctuation">]</span> <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
        <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">// When clicked onto the field, load formulae</span>
      input<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclick</span> <span class="token operator">=</span> <span class="token parameter">evt</span> <span class="token arrow operator">=&gt;</span> input<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> <span class="token maybe-class-name">Formulae</span><span class="token punctuation">[</span>cellid<span class="token punctuation">]</span><span class="token punctuation">;</span>
      td<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
      tr<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    container<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>tr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Refresh the table</span>
<span class="token keyword keyword-function">function</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cols<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">col</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    rows<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-const">const</span> cellid <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> col <span class="token operator">+</span> row<span class="token punctuation">;</span>
      <span class="token keyword keyword-const">const</span> input <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span>cellid<span class="token punctuation">)</span><span class="token punctuation">;</span>
      input<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token maybe-class-name">Formulae</span><span class="token punctuation">[</span>cellid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// get the numerical value of an input element&apos;s value attribute</span>
<span class="token keyword keyword-function">function</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//... unrelated html</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><iframe src="resources/javascript/Excel/Excel.html" frameborder="0" style="width: 100%">
The excel script should be here :(
</iframe>
<p><a href="resources/javascript/Excel/Excel.js">Source</a></p>
<p>Wie beim Plotter werden die Werte in den Zellen eingelesen, und evaluiert. Die Werte in der Klammer werden dann als <code>input</code> Objekt weitergegeben und von der Funktion <code>n</code> in Zahlen umgewandelt, und zus&#xE4;tzlich werden die einzelnen Funktionen (also das +) ausgef&#xFC;hrt.</p>
<div class="admonition warning">
<p class="admonition-title">Dieses Excel funktioniert nur gegen oben, also wenn eine Variable unter dem Feld ben&#xF6;tigt wird (welche auch zuerst noch berechnet werden muss), funktioniert diese Funktion nicht. Siehe <a href="#resultatabh%C3%A4ngigkeit">Resultatabh&#xE4;ngigkeit</a></p>
</div>
<h1 class="mume-header" id="objekte-objects">Objekte / Objects</h1>

<p>Objekte sind Datenstrukturen mit Methoden, die das managen und zugreiffen auf diese erlauben. Sie werden oft als Ort verwendet, um ver&#xE4;nderbare (mutable) Daten zu speichern. Zus&#xE4;tzlich helfen Objekte, eine gewisse Abstraktion zu geben - indem man mehreren gleiche Objekte (wie zum Beispiel Punkte mit x- und y-Koordinaten) Namen geben kann.</p>
<div class="admonition warning">
<p class="admonition-title">Objekte und Objects sind nicht unbedingt dasselbe. Das eine sind Objekte &#xE4;hnlich zu Java, die anderen sind Objects welche sich mehr wie ein Dictionary verhalten.</p>
</div>
<h2 class="mume-header" id="offen-und-dynamisch">Offen und dynamisch</h2>

<div class="admonition quote">
<p class="admonition-title">Keine Sicherheit aber super dynamisch</p>
</div>
<p>Die bekannten &quot;Dictionary&quot; JavaScript Objects sind wiefolgt aufgebaut:</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> good <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstname <span class="token operator">:</span> <span class="token string">&quot;Good&quot;</span><span class="token punctuation">,</span>
  lastname  <span class="token operator">:</span> <span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span>   <span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">lastname</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Dabei ist alles ein Key-Value-Pair, sogar <a href="#funktionen">Funktionen</a>.</p>
<div class="admonition info">
<p class="admonition-title">Der Key ist immer ein String</p>
</div>
<h3 class="mume-header" id="this-keyword"><code>this</code> Keyword</h3>

<p>Um in einer Funktion mit dem <code>function</code> Keyword auf eine Variable des Objekts zuzugreifen, ben&#xF6;gtigt man das <code>this</code> Keyword.</p>
<div class="admonition warning">
<p class="admonition-title">Mit dem <code>=&gt;</code> Lambda Keyword kann nicht auf Variablen des Objekts zugegriffen werden.</p>
</div>
<h3 class="mume-header" id="funktionen-aufrufen">Funktionen aufrufen</h3>

<p>Das Aufrufen von Funktionen in JavaScript funktioniert vom Syntax her fast genau gleich wie in Java. Das Problem daran ist, dass sich Funktionen in JavaScript aber nicht so verhalten, sondern zum Teil ganz andere Ausgaben produzieren, wie man erwartet.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> jedi <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstname <span class="token operator">:</span> <span class="token string">&quot;Obi-Wan&quot;</span><span class="token punctuation">,</span>
  lastname  <span class="token operator">:</span> &quot;<span class="token maybe-class-name">Kenobi</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span>   <span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">lastname</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> sith <span class="token operator">=</span> <span class="token punctuation">{</span>
  name     <span class="token operator">:</span> <span class="token string">&quot;Luke&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span>  <span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  getEnemy <span class="token operator">:</span> jedi<span class="token punctuation">.</span><span class="token property-access">getName</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>jedi<span class="token punctuation">.</span><span class="token method function property-access">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>sith<span class="token punctuation">.</span><span class="token method function property-access">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; hates &quot;</span> <span class="token operator">+</span> sith<span class="token punctuation">.</span><span class="token method function property-access">getEnemy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ Obi-Wan Kenobi</code><br>
<code>$ Luke hates undefined</code></p>
</blockquote>
<p>Diese Ausgabe kann sehr verwirrend sein. Das <code>undefined</code> nach &quot;hates&quot; ist passiert, weil das <code>getName</code> von <code>jedi</code> in <code>sith</code> auf die Elemente/Member in <code>sith</code> zugreift, und gibt dann f&#xFC;r <code>lastname</code> <code>undefined</code> zur&#xFC;ck weil <code>sith</code> dieses Feld nicht hat.</p>
<h2 class="mume-header" id="geschlossen-und-explizit">Geschlossen und explizit</h2>

<div class="admonition quote">
<p class="admonition-title">Beste Sicherheit, einfach zu teilen, aber keine Klasse</p>
</div>
<p>Es gibt auch die M&#xF6;glichkeit eine Art Factory zu bauen, bei welcher beim Aufrufen einer Funktion die den Konstruktor repr&#xE4;sentiert, ein Objekt generiert wird.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> firstname <span class="token operator">=</span> first<span class="token punctuation">;</span>  <span class="token comment">// immutable</span>
  <span class="token keyword keyword-let">let</span> lastname  <span class="token operator">=</span> last<span class="token punctuation">;</span>   <span class="token comment">// immutable</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-return">return</span> firstname <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastname<span class="token punctuation">;</span> <span class="token comment">// &apos;this&apos; is gone!</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      firstname <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>In diesem Beispiel wird <code>firstname</code> und <code>lastname</code> immuteable, und sie k&#xF6;nnen nur Mithilfe des Setters ge&#xE4;ndert werden.<br>
Alles was im <code>return</code> gegeben mitgegeben wird, ist dann von aussen zug&#xE4;nglich.</p>
<p>&#x2192; M&#xFC;ssen geschlossene und explizite Objekte identifiziert werden, kann die Methode <a href="#setzen-von-prototypen">setzen von Prototypen</a> verwendet werden.</p>
<h3 class="mume-header" id="anwendung-1">Anwendung</h3>

<p>Der geschlossene und explizite Ansatz eignet sich sehr gut f&#xFC;r einfachen aber auch komplexeren Code, da er das Prinzip von Klassen fast am besten reflektiert. In diesem Beispiel wird das Spiel <code>OOPSIE</code> mithilfe von Objekten vereinfacht. Es ist damit auch einfacher, mehrere Spieler zu implementieren - quasi so viele wie man m&#xF6;chte.</p>
<div class="admonition info">
<p class="admonition-title">OOPSIE ist ein Spiel bei welchem gew&#xFC;rfelt wird. Man darf w&#xFC;rfeln bis man genug hat, oder bis man eine 3 W&#xFC;rfelt. Im Falle der 3 wird man auf das Feld zur&#xFC;ckgesetzt, bei welchem man seine Runde gestartet hat.</p>
</div>
<p>Das Objekt verwendet die versteckten Attribute <code>fallbackIndex</code> und <code>progressIndex</code> um die Position im Spiel zu speichern (und darzustellen). Im Fall dass keine 3 gew&#xFC;rfelt wurde, wird der <code>progress</code> erweitert, und bei einem <code>turn</code> dieser Wert als <code>fallback</code> gespeichert. Sollte man eine 3 W&#xFC;rfeln, wird man ganz einfach auf das Feld zur&#xFC;ck geworfen, welches im <code>fallbackIndex</code> gespeichert ist.<br>
Speziell ist noch die Reset Funktion, welche den Spieler ganz an den Anfang zur&#xFC;ck schmeisst. Diese wird aufgerufen, wenn der andere Spieler auf demselben Feld landet wie dieser Spieler.</p>
<pre data-role="codeBlock" data-info="javascript {.line-number}" class="language-javascript line-number"><span class="token comment">// ... unrelated code</span>
<span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">Player</span></span><span class="token punctuation">(</span><span class="token parameter">givenName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> name <span class="token operator">=</span> givenName<span class="token punctuation">;</span>
  <span class="token keyword keyword-let">let</span> fallbackIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-let">let</span> progressIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">proceed</span>          <span class="token operator">:</span> <span class="token parameter">stride</span> <span class="token arrow operator">=&gt;</span> progressIndex <span class="token operator">+=</span> stride<span class="token punctuation">,</span>
    <span class="token function-variable function">fallback</span>         <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> progressIndex <span class="token operator">=</span> fallbackIndex<span class="token punctuation">,</span>
    <span class="token function-variable function">turn</span>             <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> fallbackIndex <span class="token operator">=</span> progressIndex<span class="token punctuation">,</span>
    <span class="token function-variable function">getFallbackIndex</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> fallbackIndex<span class="token punctuation">,</span>
    <span class="token function-variable function">getProgressIndex</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> progressIndex<span class="token punctuation">,</span>
    <span class="token function-variable function">reset</span>            <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      fallbackIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      progressIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ... unrelated code</span>
</pre><iframe src="resources/javascript/Oopsie/Oopsie.html" frameborder="0" style="height:550px; width: 100%">
The oopsie script should be here :(
</iframe>
<p><a href="resources/javascript/Oopsie/Oopsie.js">Source</a></p>
<h2 class="mume-header" id="gemischt-und-klassifiziert">Gemischt und klassifiziert</h2>

<p>Das folgende Schema ist das meistverwendete - das Prototypenschema. Wir hier etwas ge&#xE4;ndert, werden alle Objekte die daraus instanziert wurden auch ge&#xE4;ndert.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>          <span class="token comment">// lexical scope</span>
  <span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Constructor and binding</span>
    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span> <span class="token operator">=</span> first<span class="token punctuation">;</span>
    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">lastname</span>  <span class="token operator">=</span> last<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">getName</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">lastname</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token maybe-class-name">Person</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// IIFE</span>

<span class="token keyword keyword-new">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Good&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Boy&quot;</span><span class="token punctuation">)</span> <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><ul>
<li><code>new</code> &#x2192; Generiert neues leeres Objekt (einen <a href="#prototypen">Prototypen</a>), mit eigenem <a href="#scopes">Scope</a>.</li>
<li><code>function Person</code> &#x2192; Initialisiert dieses leere Objekt mit einer Person.</li>
<li><code>Person.prototype.getName</code> &#x2192; Generiert eine neue Funktion im Prototyp, welche auf das <code>this</code> (also den Scope) des neugenerierten Objekts referenziert.</li>
</ul>
<p>Objekte welche so generiert werden, haben einen Typ, in diesem Fall den Typ <code>Person</code>. Dieser kann auch mit <code>instanceof</code> gepr&#xFC;ft werden.</p>
<h2 class="mume-header" id="konstruktoren">Konstruktoren</h2>

<p>Wie Arrays k&#xF6;nnen Objekte mit verschiedenen Konstruktoren generiert werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> z<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
$ <span class="token keyword keyword-let">let</span> foo<span class="token punctuation">;</span>
<span class="token comment">// Object in parameter position</span>
$ <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">myobj</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>myobj<span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$ <span class="token function">foo</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
 &#x2192; <span class="token number">1</span>
<span class="token comment">// Object deconstruction in parameter position</span>
$ <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we get an object that has x and y, and maybe any other thing</span>
$ <span class="token function">foo</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
 &#x2192; <span class="token number">1</span>
$ <span class="token keyword keyword-const">const</span> <span class="token function-variable function">baz</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> obj<span class="token punctuation">;</span>
$ <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$ x
 &#x2192; <span class="token number">1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Der literale Objektkonstruktor kann noch etwas mehr. Er kann auch direkt die Werte in einer Variable in einen gleichnahmigen Schl&#xFC;ssel speichern. Das kann man auch nutzen um aussagekr&#xE4;ftigere Konsolenlogs zu erstellen.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
$ <span class="token keyword keyword-let">let</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
$ <span class="token keyword keyword-let">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> x<span class="token punctuation">,</span> y<span class="token operator">:</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
$ obj
&#x2192; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span>  <span class="token comment">// shorter version of line 3</span>
&#x2192; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;x: &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">,</span> <span class="token string">&quot;y: &quot;</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
&#x2192; <span class="token string">&quot;x ist 1&quot;</span>  <span class="token string">&quot;y ist 2&quot;</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// short version of line 8</span>
&#x2192; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Auch Funktionen m&#xFC;ssen nicht explizit mit <code>function</code> definiert werden. Das Keyword kann weggelassen werden, und JavaScript evaluiert dies automatisch in einen Key des Objekts.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-let">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">foo</span> <span class="token operator">:</span> <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
$ obj<span class="token punctuation">.</span><span class="token method function property-access">foo</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">42</span>
$ obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// JavaScript evalutes this into a function automatically</span>
$ obj<span class="token punctuation">.</span><span class="token method function property-access">foo</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">42</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h1 class="mume-header" id="klassen">Klassen</h1>

<div class="admonition quote">
<p class="admonition-title">Classes tend to be bad modules - D. Crockford, How JS works</p>
</div>
<p>Klassen sind in der Objektorientierten Programmierung immer vorzufinden. Sie sind daf&#xFC;r da, Objekte zu &quot;klassifizieren&quot;, also zu erkennen zu was ein Objekt geh&#xF6;rt.</p>
<h2 class="mume-header" id="keyword-class">Keyword <code>class</code></h2>

<p>Das <code>class</code> Keyword wurde mit ES6 eingef&#xFC;hrt. Man kann auch ohne damit arbeiten, und sollte nur als Synktatischer Zucker angesehen werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-class">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span> <span class="token operator">=</span> first<span class="token punctuation">;</span>
    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">lastname</span> <span class="token operator">=</span> last<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">firstname</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">lastname</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> pers <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Good&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>pers <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>pers<span class="token punctuation">.</span><span class="token method function property-access">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ true Good Boy</code></p>
</blockquote>
<p>Das <code>getName()</code> ist im Hintergrund dasselbe wie bei <a href="#gemischt-und-klassifiziert">gemischt und klassifiziert</a>.</p>
<h2 class="mume-header" id="keyword-extends">Keyword <code>extends</code></h2>

<p>&quot;Erweitert&quot; eine Klasse mit neuen Attributen und Funktionen.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-class">class</span> <span class="token class-name">Student</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last<span class="token punctuation">,</span> grade</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">grade</span> <span class="token operator">=</span> grade
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> s <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;Top&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Student&quot;</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Im Hintergrund arbeitet JavaScript mit miteinander verkn&#xFC;pften Prototypen.</p>
<h2 class="mume-header" id="prototypen">Prototypen</h2>

<p>Prototypen sind ganz normale Objekte. Ihre Anwendung macht sie jedoch speziell. Der &quot;Typ&quot; eines Objektes wird &#xFC;ber seinen Prototyp bestimmt.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword keyword-const">const</span> s <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
 |  Student  |     |  Person   |     |  Object   |
 | prototype |  &#x2192;  | prototype |  &#x2192;  | prototype |
_______|
|                                                */</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token property-access">__proto__</span> <span class="token operator">===</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">getPrototypeOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>s <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span>
</pre><blockquote>
<p><code>$ true true true</code></p>
</blockquote>
<p>JavaScript verarbeitet Vererbung ganz anders. Wenn auf einem Objekt eine Funktion aufgerufen wird, welche nicht vorhanden wird, pr&#xFC;ft JavaScript ob das Objekt ein <code>Prototyp</code> hat, und wenn ja, pr&#xFC;ft es ob der <code>Prototyp</code> die entsprechende Methode hat. Da die <code>Prototypen</code> verlinkt sind, findet JavaScript entweder die Funktion in einem verlinkten <code>Prototyp</code>, oder im Falle dass er es nicht findet einen Fehler. Darum werden auch Methoden von Objekten ver&#xE4;ndert, wenn der <code>Prototyp</code> ver&#xE4;ndert wird.</p>
<p>Alle Methoden einer &quot;Klasse&quot; werden im <code>Prototyp</code> (wie in <a href="#gemischt-und-klassifiziert">gemischt und klassifiziert</a>) angelegt.</p>
<h3 class="mume-header" id="setzen-von-prototypen">Setzen von Prototypen</h3>

<p>Die Prototypen k&#xF6;nnen auch dynamisch gesetzt werden. Hat man zum Beispiel ein Objekt <a href="#geschlossen-und-explizit">geschlossen und explizit</a> angelegt, kann man die &quot;Identifizierung&quot; machen, indem man den Prototypen setzt.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> firstname <span class="token operator">=</span> first<span class="token punctuation">;</span>
  <span class="token keyword keyword-let">let</span> lastname  <span class="token operator">=</span> last<span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-return">return</span> firstname <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastname<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      firstname <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">setPrototypeOf</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><div class="admonition warning">
<p class="admonition-title">Weil die Prototypen dyanmisch ver&#xE4;ndert werden k&#xF6;nnen, k&#xF6;nnen Codebasen enorm stark ver&#xE4;ndert werden!</p>
</div>
<h3 class="mume-header" id="%C3%A4ndern-von-prototypen">&#xC4;ndern von Prototypen</h3>

<p>Unsere Idee ist es nun eine Funktion zu schreiben, welche f&#xFC;r jede erdenkliche Nummer <code>n</code> eine Funktion n-mal ausf&#xFC;hrt.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// We need function keyword here because we need &apos;this&apos;</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">times</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token known-class-name class-name">Array</span><span class="token punctuation">.</span><span class="token keyword module keyword-from">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">times</span><span class="token punctuation">(</span> <span class="token parameter">n</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ 0 1 2 3 4 5 6 7 8 9</code></p>
</blockquote>
<p>Mit dem &#xDC;berschreiben des <code>prototype</code> kann man f&#xFC;r <strong>alle</strong> Nummern in JavaScript diese Funktionalit&#xE4;t hinzuf&#xFC;gen.</p>
<div class="admonition warning">
<p class="admonition-title">Das geht auch mit Packages welche bei npm hochgeladen werden</p>
</div>
<h1 class="mume-header" id="typen">Typen</h1>

<p>JavaScript hat ein Typsystem namens Unityped, jedoch ist Javascript nicht streng typisiert. Es ist m&#xF6;glich, mit Hilfe von JsDoc Typen in einer IDE zu pr&#xFC;fen, wenn sie so konfiguriert ist.</p>
<h2 class="mume-header" id="eingebaute-typen">Eingebaute Typen</h2>

<p>Eingebaute Typen umfassen: <code>Boolean</code>, <code>Number</code>, <code>String</code>, <code>Object</code>, <code>BigInt</code>, <code>Symbol</code>, <code>Null</code>, <code>Undefined</code>, <code>Function</code> (typeof)<br>
Zus&#xE4;tzlich bietet JavaScript Objekt &quot;Klassen&quot; an: <code>Array</code>, <code>Date</code>, <code>RegExp</code>, <code>Error</code>, <code>Map</code>, <code>Set</code>, <code>JSON</code>, ...</p>
<h2 class="mume-header" id="jsdoc">JsDoc</h2>

<p>JsDoc hilft, den Code sauber zu dokumentieren. Zus&#xE4;tzlich hilft es, Variablen zu typisieren. Dabei wird der IDE gesagt, dass sie auf Typen pr&#xFC;fen soll. Der Code funktioniert aber immernoch, auch wenn die Typisierung nicht einghalten wird.</p>
<div class="admonition note">
<p class="admonition-title">Dass dies in Visual Studio Code Funktioniert, muss das Dokument mit <code>// @ts-check</code> beginnen</p>
</div>
<h2 class="mume-header" id="funktionen-1">Funktionen</h2>

<p>Funktionen werden mit JsDoc folgendermassen dokumentiert:</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token doc-comment comment">/**
 * Prints something to the log
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> !String <span class="token punctuation">}</span></span> <span class="token parameter">toPrint</span> - the string which will logged to console
 * <span class="token keyword keyword-@returns">@returns</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">}</span></span>
 * <span class="token keyword keyword-@function">@function</span>
 */</span>
<span class="token keyword keyword-function">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">toPrint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>toPrint<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// IDE will be ok with that</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>      <span class="token comment">// IDE will report that types do not match</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ Hello 123</code></p>
</blockquote>
<ul>
<li><code>@function</code> definiert dass der folgende Codeblock eine Funktion ist.</li>
<li><code>@param</code> definiert die Parameter einer Funktion</li>
<li><code>returns</code> definiert den zur&#xFC;ckgegebenen Wert einer Funktion</li>
</ul>
<h3 class="mume-header" id="optionalit%C3%A4t">Optionalit&#xE4;t</h3>

<p>Um einen Typen zu forcieren, oder auch optional zu machen, k&#xF6;nnen zus&#xE4;tzliche Zeichen verwendet werden:</p>
<ul>
<li><code>!</code> am Anfang sagt, dass der Wert nicht <code>null</code> sein darf</li>
<li><code>?</code> am Ende sagt, dass das Element optional ist</li>
<li><code>...</code> am Anfang bedeutet, dass 0, 1 oder beliebig viele Elemente von dem Typ erlaubt sind</li>
</ul>
<h3 class="mume-header" id="template">Template</h3>

<p>Wenn eine Funktion genau den Typen zur&#xFC;ck gibt, die ihr als Parameter mitgegeben wird, wird ein sogenanntes <code>template</code> verwendet.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token doc-comment comment">/**
 * Identity function
 * The function is pure and runs in O(1). Function calls can be inlined.
 * <span class="token keyword keyword-@template">@template</span> a
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> a <span class="token punctuation">}</span></span> <span class="token parameter">x</span>
 * <span class="token keyword keyword-@return">@return</span> <span class="token class-name"><span class="token punctuation">{</span> a <span class="token punctuation">}</span></span> - the parameter <span class="token punctuation">{</span><span class="token keyword keyword-@link">@link</span> x<span class="token punctuation">}</span> unchanged
 * <span class="token keyword keyword-@example">@example</span>
 <span class="token example">* <span class="token code language-javascript"><span class="token function">id</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span></span></span>
 */</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">id</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x<span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * A function with two parameters in curried form, that returns the first of the two parameters.
 * <span class="token keyword keyword-@type">@type</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token punctuation">&lt;</span>a<span class="token punctuation">&gt;</span> <span class="token punctuation">(</span>x<span class="token operator">:</span>a<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a  <span class="token punctuation">}</span></span>
 * <span class="token keyword keyword-@example">@example</span>
 <span class="token example">* <span class="token code language-javascript"><span class="token function">konst</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">42</span><span class="token punctuation">;</span></span></span>
 */</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">konst</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">y</span> <span class="token arrow operator">=&gt;</span> x<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Das <code>a</code> repr&#xE4;sentiert dabei den beliebigen Typ. Zus&#xE4;tzlich kann man das <code>@template a</code> auch durch ein <code>&lt;a&gt;</code> tauschen, welches dann f&#xFC;r eine Zeile z&#xE4;hlt.</p>
<h2 class="mume-header" id="datenstrukturen-klassen">Datenstrukturen / Klassen</h2>

<p>Datenstrukturen, also Klassen, werden mit JsDoc folgendermassen dokumentiert:</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token doc-comment comment">/**
 * <span class="token keyword keyword-@typedef">@typedef</span> <span class="token class-name">PlayerType</span>
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> String <span class="token punctuation">}</span></span> <span class="token parameter">getName</span>
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Number <span class="token punctuation">}</span></span> <span class="token parameter">getAge</span>
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token punctuation">(</span>age<span class="token operator">:</span>!Number<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">}</span></span> <span class="token parameter">getOlder</span> - ages the person by <span class="token punctuation">{</span><span class="token keyword keyword-@link">@link</span> age<span class="token punctuation">}</span>
 */</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> String <span class="token punctuation">}</span></span> <span class="token parameter">first</span>
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> String <span class="token punctuation">}</span></span> <span class="token parameter">last</span>
 * <span class="token keyword keyword-@return">@return</span> <span class="token class-name"><span class="token punctuation">{</span> PlayerType <span class="token punctuation">}</span></span>
 * <span class="token keyword keyword-@constructor">@constructor</span>
 * <span class="token keyword keyword-@example">@example</span>
 <span class="token example">* <span class="token code language-javascript"><span class="token function"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token string">&quot;Joel&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Allemann&quot;</span><span class="token punctuation">)</span></span></span>
 */</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Person</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> firstname <span class="token operator">=</span> first<span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> lastname <span class="token operator">=</span> last<span class="token punctuation">;</span>
  <span class="token keyword keyword-let">let</span> age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">getName</span>  <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>firstname <span class="token operator">+</span> <span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> lastname<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getAge</span>   <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> age <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getOlder</span> <span class="token operator">:</span> <span class="token parameter">years</span> <span class="token arrow operator">=&gt;</span> age <span class="token operator">+=</span> years
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Konstruktoren werden mit <code>@constructor</code> gekennzeichnet. Properties dieser Klassen, also sogesehen Methoden, werden mit <code>@property</code> gekennzeichnet. Mithilfe von <code>@typedef</code> wird definiert, dass das folgende JsDoc einen Typen definiert.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">  <span class="token doc-comment comment">/**
   * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token string">&quot;NEW&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;OLD&quot;</span> <span class="token punctuation">}</span></span> <span class="token parameter">oldOrNew</span>
   * <span class="token keyword keyword-@return">@return</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">}</span></span>
   */</span>
  <span class="token keyword keyword-function">function</span> <span class="token function">oldOrNew</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;OLD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;The string is old&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-else">else</span> <span class="token punctuation">{</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;The string is new&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Zus&#xE4;tzlich k&#xF6;nnen <code>|</code> und <code>&amp;</code> verwendet werden, um entweder <strong>unions</strong> (nur diese Werte sind erlaubt) oder <strong>intersections</strong> (dieser Wert welcher auch den anderen Wert hat sind erlaubt) zu generieren. Auch String literale k&#xF6;nnen definiert werden, was bedeuetet, nur die literalen Strings sind erlaubt. Das <code>&amp;</code> macht vor allem Sinn, wenn man nur z.B. Personen m&#xF6;chte, welche das property <code>cool</code> haben.</p>
<h2 class="mume-header" id="typecast">Typecast</h2>

<p>Manchmal muss man Typen casten. Man hilft so, dass Typen welche nicht klar gefolgert werden k&#xF6;nnen, klar definiert sind.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">/* @type { String } */</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-var">var</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><h2 class="mume-header" id="sonstige-annotationen">Sonstige Annotationen</h2>

<p>JsDoc erlaubt es beliebige Annotationen zu schreiben. Diese werden zwar von der IDE nicht speziell dargestellt, trotzdem ist es ein nettes Feature. Zus&#xE4;tzlich unterst&#xFC;tzt die Beschreibung Markdown.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token doc-comment comment">/**
 * @LambdaCalculus $\lambda x . x$
 * ... 
 */</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">id</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> x<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><h1 class="mume-header" id="patterns">Patterns</h1>

<p>Wie in Java gibt es diverse Patterns, welche mit JavaScript implementiert werden k&#xF6;nnen.</p>
<h2 class="mume-header" id="observer">Observer</h2>

<p>Das Observer Pattern erlaubt es aufgrund von Wert&#xE4;nderungen Funktionen auszuf&#xFC;hren. Das erlaubt, dass zum Beispiel im UI ein Text ge&#xE4;ndert wird, weil sich in der Business Logik ein Wert ge&#xE4;ndert hat.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token doc-comment comment">/**
 * <span class="token keyword keyword-@template">@template</span> _T_
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> _T_ <span class="token punctuation">}</span></span> <span class="token parameter">value</span>
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> _T_ <span class="token punctuation">}</span></span> <span class="token parameter">oldValue</span>
 * <span class="token keyword keyword-@function">@function</span> ObserverCallback
 */</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword keyword-@typedef">@typedef</span> <span class="token class-name">ObservableType</span>
 * <span class="token keyword keyword-@template">@template</span> _T_
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> _T_ <span class="token punctuation">}</span></span> <span class="token parameter">getValue</span> - returns the current value of the observable
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> newValue<span class="token operator">:</span>_T_ <span class="token operator">=&gt;</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">}</span></span> <span class="token parameter">setValue</span> - sets the observable to the value <span class="token punctuation">{</span><span class="token keyword keyword-@link">@link</span> newValue<span class="token punctuation">}</span> and updates all listeners
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> ObserverCallback<span class="token punctuation">&lt;</span>_T_<span class="token punctuation">&gt;</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">}</span></span> <span class="token parameter">onChange</span> - the callback that should be called when the value changes
 * <span class="token keyword keyword-@property">@property</span> <span class="token class-name"><span class="token punctuation">{</span> ObserverCallback<span class="token punctuation">&lt;</span>_T_<span class="token punctuation">&gt;</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation">}</span></span> <span class="token parameter">removeListener</span> - removes the listener from the listener list and thus ending all notifications to it
 */</span>

<span class="token doc-comment comment">/**
 * A simple Observable that updates listeners with the old and new value
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span> _T_ <span class="token punctuation">}</span></span> <span class="token parameter">value</span> - the initial value of the variable
 * <span class="token keyword keyword-@return">@return</span> <span class="token class-name"><span class="token punctuation">{</span> ObservableType<span class="token punctuation">&lt;</span>_T_<span class="token punctuation">&gt;</span> <span class="token punctuation">}</span></span>
 * <span class="token keyword keyword-@constructor">@constructor</span> 
 */</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Observable</span></span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> listeners <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">getValue</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token arrow operator">=&gt;</span> value<span class="token punctuation">,</span>
    <span class="token function-variable function">setValue</span><span class="token operator">:</span> <span class="token parameter">newValue</span>       <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> newValue<span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
      <span class="token keyword keyword-const">const</span> oldValue <span class="token operator">=</span> value<span class="token punctuation">;</span>
      value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
      listeners<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">callback</span> <span class="token arrow operator">=&gt;</span> <span class="token function">callback</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token parameter">callback</span>       <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      listeners<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">removeListener</span><span class="token operator">:</span> <span class="token parameter">callback</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-const">const</span> i <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> list<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> observable <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Observable</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observable<span class="token punctuation">.</span><span class="token method function property-access">onChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;The value is &quot;</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">&quot; and was &quot;</span> <span class="token operator">+</span> oldValue <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observable<span class="token punctuation">.</span><span class="token method function property-access">setValue</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observable<span class="token punctuation">.</span><span class="token method function property-access">setValue</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ The value is 0 and was 0</code><br>
<code>$ The value is 42 and was 0</code><br>
<code>$ The value is 7 and was 42</code></p>
</blockquote>
<div class="admonition warning">
<p class="admonition-title">Wird ein Listener nicht mehr gebraucht sollte er unbedingt aus dem Observable entfernt werden, ansonsten entstehen Memory Leaks.</p>
</div>
<h2 class="mume-header" id="mvc">MVC</h2>

<p>Das MVC Pattern, oder auch <strong>M</strong>odel <strong>V</strong>iew <strong>C</strong>ontroller Pattern wird in JavaScript oft verwendet. Dabei wird die Business Logik von der UI Logik getrennt und mit einem Layer verbunden. Infolge wird das MVC anhand einer grafischen ToDo Liste implementiert.</p>
<h3 class="mume-header" id="model">Model</h3>

<p>Das Model ist die erste Komponente des MVCs. Das Model h&#xE4;lt die internen Daten und bietet eine Datenstruktur daf&#xFC;r an. F&#xFC;r die ToDo Liste sind es Observables sowie eine Observable Liste.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// ... observable from above, without removeListener function</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">ObservableList</span></span> <span class="token operator">=</span> <span class="token parameter">list</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> addListeners       <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> delListeners       <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">removeAt</span>           <span class="token operator">=</span> <span class="token parameter">array</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">index</span> <span class="token arrow operator">=&gt;</span> array<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">removeItem</span>         <span class="token operator">=</span> <span class="token parameter">array</span> <span class="token arrow operator">=&gt;</span> <span class="token parameter">item</span>  <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword keyword-const">const</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">removeAt</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> listRemoveItem     <span class="token operator">=</span> <span class="token function">removeItem</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> delListenersRemove <span class="token operator">=</span> <span class="token function">removeAt</span><span class="token punctuation">(</span>delListeners<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onAdd</span><span class="token operator">:</span> <span class="token parameter">listener</span> <span class="token arrow operator">=&gt;</span> addListeners<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onDel</span><span class="token operator">:</span> <span class="token parameter">listener</span> <span class="token arrow operator">=&gt;</span> delListeners<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token parameter">item</span>       <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      addListeners<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span> <span class="token parameter">listener</span> <span class="token arrow operator">=&gt;</span> <span class="token function">listener</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">del</span><span class="token operator">:</span> <span class="token parameter">item</span>       <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">listRemoveItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword keyword-const">const</span> safeIterate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>delListeners<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// shallow copy as we might change listeners array while iterating</span>
      safeIterate<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">listener<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">listener</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">delListenersRemove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    removeDeleteListener<span class="token operator">:</span> <span class="token function">removeItem</span><span class="token punctuation">(</span>delListeners<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span>   <span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token arrow operator">=&gt;</span> list<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span>
    <span class="token function-variable function">countIf</span><span class="token operator">:</span> <span class="token parameter">pred</span>   <span class="token arrow operator">=&gt;</span> list<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">pred</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">?</span> sum <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> sum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="resources/javascript/Todo/TodoModel.js">Source</a></p>
<h3 class="mume-header" id="view">View</h3>

<p>Die View ist die HTML-Datei. In dieser wird definiert wie das Programm aussehen soll. Zus&#xE4;tzlich wird bei der View die HTML-Elemente definiert, welche von JavaScript ver&#xE4;ndert werden. Dies hat den Vorteil, dass Elemente, welche &#xFC;ber die ID ausgew&#xE4;hlt werden, nicht direkt ersichtlich sind und nicht &quot;magisch&quot; im Code auftauchen. Zus&#xE4;tzlich wird aus dem HTML noch der Code gestartet.</p>
<pre data-role="codeBlock" data-info="html {.line-numbers}" class="language-html line-numbers"><span class="token comment">&lt;!-- unrelated html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- The actual scripts containing logic --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../observable/observable.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TodoController.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TodoView.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- The elements we&apos;ll need in the JavaScript source code --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword keyword-const">const</span> todoController <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">TodoController</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function"><span class="token maybe-class-name">TodoItemsView</span></span><span class="token punctuation">(</span>todoController<span class="token punctuation">,</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;todoContainer&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function"><span class="token maybe-class-name">TodoTotalView</span></span><span class="token punctuation">(</span>todoController<span class="token punctuation">,</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;numberOfTasks&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function"><span class="token maybe-class-name">TodoOpenView</span></span> <span class="token punctuation">(</span>todoController<span class="token punctuation">,</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;openTasks&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    todoController<span class="token punctuation">.</span><span class="token method function property-access">addTodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- unrelated html --&gt;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="resources/javascript/Todo/Todo.html">Source</a></p>
<p>Das HTML soll haupts&#xE4;chlich f&#xFC;r die Formatierung verwendet werden. Deswegen gibt es trotzdem eine JavaScript source Datei, welche die dynamische Logik beinhaltet.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">TodoItemsView</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">todoController<span class="token punctuation">,</span> rootElement</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token parameter">todo</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-function">function</span> <span class="token function">createElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-const">const</span> template <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;DIV&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// only for parsing</span>
      template<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token embedded-code html">
        &lt;button class=&quot;delete&quot;&gt;&amp;times;&lt;/button&gt;
        &lt;input type=&quot;text&quot; size=&quot;36&quot;&gt;
        &lt;input type=&quot;checkbox&quot;&gt;            
      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> template<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>deleteButton<span class="token punctuation">,</span> inputElement<span class="token punctuation">,</span> checkboxElement<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    checkboxElement<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclick</span> <span class="token operator">=</span> <span class="token parameter">_</span> <span class="token arrow operator">=&gt;</span> todo<span class="token punctuation">.</span><span class="token method function property-access">setDone</span><span class="token punctuation">(</span>checkboxElement<span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    deleteButton<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclick</span>    <span class="token operator">=</span> <span class="token parameter">_</span> <span class="token arrow operator">=&gt;</span> todoController<span class="token punctuation">.</span><span class="token method function property-access">removeTodo</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>

    todoController<span class="token punctuation">.</span><span class="token method function property-access">onTodoRemove</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">removedTodo<span class="token punctuation">,</span> removeMe</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>removedTodo <span class="token operator">!==</span> todo<span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
      rootElement<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>inputElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
      rootElement<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>deleteButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
      rootElement<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>checkboxElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">removeMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    rootElement<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>deleteButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rootElement<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>inputElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rootElement<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>checkboxElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// binding</span>
  todoController<span class="token punctuation">.</span><span class="token method function property-access">onTodoAdd</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// we do not expose anything as the view is totally passive.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">TodoTotalView</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">todoController<span class="token punctuation">,</span> numberOfTasksElement</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
    numberOfTasksElement<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> todoController<span class="token punctuation">.</span><span class="token method function property-access">numberOfTodos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// binding</span>
  todoController<span class="token punctuation">.</span><span class="token method function property-access">onTodoAdd</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  todoController<span class="token punctuation">.</span><span class="token method function property-access">onTodoRemove</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">TodoOpenView</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">todoController<span class="token punctuation">,</span> numberOfOpenTasksElement</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
    numberOfOpenTasksElement<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> todoController<span class="token punctuation">.</span><span class="token method function property-access">numberOfOpenTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// binding</span>
  todoController<span class="token punctuation">.</span><span class="token method function property-access">onTodoAdd</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    todo<span class="token punctuation">.</span><span class="token method function property-access">onDoneChanged</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  todoController<span class="token punctuation">.</span><span class="token method function property-access">onTodoRemove</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="resources/javascript/Todo/TodoView.js">Source</a></p>
<h3 class="mume-header" id="controller">Controller</h3>

<p>Der Controller ist die letzte Komponente des MVCs. Er verbindet die View mit dem Model, und sch&#xFC;tzt dabei die View von dem Model und umgekehrt. Der Controller hat eine Instanz des Models, und die Views haben eine referenz auf einen Controller.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Todo</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>                                <span class="token comment">// facade</span>
  <span class="token keyword keyword-const">const</span> textAttr <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Observable</span></span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// we currently don&apos;t expose it as we don&apos;t use it elsewhere</span>
  <span class="token keyword keyword-const">const</span> doneAttr <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Observable</span></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    getDone<span class="token operator">:</span>       doneAttr<span class="token punctuation">.</span><span class="token property-access">getValue</span><span class="token punctuation">,</span>
    setDone<span class="token operator">:</span>       doneAttr<span class="token punctuation">.</span><span class="token property-access">setValue</span><span class="token punctuation">,</span>
    onDoneChanged<span class="token operator">:</span> doneAttr<span class="token punctuation">.</span><span class="token property-access">onChange</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">TodoController</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// observable array of Todos, this state is private</span>
  <span class="token keyword keyword-const">const</span> todoModel <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">ObservableList</span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> newTodo <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Todo</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    todoModel<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>newTodo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> newTodo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    numberOfTodos<span class="token operator">:</span>            todoModel<span class="token punctuation">.</span><span class="token property-access">count</span><span class="token punctuation">,</span>
    <span class="token function-variable function">numberOfOpenTasks</span><span class="token operator">:</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> todoModel<span class="token punctuation">.</span><span class="token method function property-access">countIf</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token arrow operator">=&gt;</span> <span class="token operator">!</span> todo<span class="token punctuation">.</span><span class="token method function property-access">getDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    addTodo<span class="token operator">:</span>                  addTodo<span class="token punctuation">,</span>
    removeTodo<span class="token operator">:</span>               todoModel<span class="token punctuation">.</span><span class="token property-access">del</span><span class="token punctuation">,</span>
    onTodoAdd<span class="token operator">:</span>                todoModel<span class="token punctuation">.</span><span class="token property-access">onAdd</span><span class="token punctuation">,</span>
    onTodoRemove<span class="token operator">:</span>             todoModel<span class="token punctuation">.</span><span class="token property-access">onDel</span><span class="token punctuation">,</span>
    removeTodoRemoveListener<span class="token operator">:</span> todoModel<span class="token punctuation">.</span><span class="token property-access">removeDeleteListener</span><span class="token punctuation">,</span> <span class="token comment">// only for the test case, not used below</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><iframe src="resources/javascript/Todo/Todo.html" frameborder="0" style="height:440px; width: 100%">
The todolist script should be here :(
</iframe>
<h1 class="mume-header" id="asynchrone-programmierung">Asynchrone Programmierung</h1>

<p>Ein Grundbaustein von JavaScript ist die asynchrone Programmierung. Gerade das Callback-Paradigma erlaubt es, immer nach Erfolg einer Funktion eine andere Funktion aufzurufen. Oft f&#xFC;hrt dies aber zu sogenannten Wildg&#xE4;nsepattern, wo aufgrund vieler Callbacks ein grosses <code>&gt;</code> in der Codebasis entsteht.</p>
<h2 class="mume-header" id="promise">Promise</h2>

<p>Promises schaffen hier Abhilfe. Sie sind auch bekannt als <code>thenable</code>, also quasi &quot;dannbar&quot;.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token function">fetch</span> <span class="token punctuation">(</span><span class="token string">&apos;http://fhnw.ch/json/students/list&apos;</span><span class="token punctuation">)</span>       <span class="token comment">// fetch from web</span>
 <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token arrow operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>               <span class="token comment">// make a new (async) JSON parse</span>
 <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">students</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>students<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// when JSON is finished, log</span>
 <span class="token punctuation">.</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span>     <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment">// when fetch or parse fails</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><p>Wenn immer eine Promise erf&#xFC;llt wird, wir die Funktion im <code>.then()</code> ausgef&#xFC;hrt. Geschieht ein Fehler, wird die Funktion in <code>.catch()</code> ausgef&#xFC;hrt. Promises, die Promises zur&#xFC;ckgeben, k&#xF6;nnen wiederum mit <code>.then()</code> verkn&#xFC;ft werden - dies nennt sich dann <strong>Monad</strong>.</p>
<p>Man kann auch selbst Promises erstellen.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">processEven</span> <span class="token operator">=</span> <span class="token parameter">i</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">resolve</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">reject</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">run</span> <span class="token operator">=</span> <span class="token parameter">number</span> <span class="token arrow operator">=&gt;</span> <span class="token function">processEven</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Good, &quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; is even!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token arrow operator">=&gt;</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Oh no, &quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; is odd!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">run</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">run</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ Good, 2 is even!</code><br>
<code>$ Oh no, 3 is odd!</code></p>
</blockquote>
<p>Das obere Beispiel zeigt eine Funktion, welche nur gerade Zahlen prozessiert.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token function">processEven</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>                            <span class="token comment">// &#x2193; auto promotion to promise</span>
 <span class="token punctuation">.</span><span class="token method function property-access">then</span> <span class="token punctuation">(</span> <span class="token parameter">it</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword control-flow keyword-return">return</span> it<span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token method function property-access">then</span> <span class="token punctuation">(</span> <span class="token parameter">it</span> <span class="token arrow operator">=&gt;</span> <span class="token function">processEven</span><span class="token punctuation">(</span>it <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span> <span class="token parameter">err</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span> <span class="token string">&quot;Error: &quot;</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>4 Error: 5</code></p>
</blockquote>
<p>Zus&#xE4;tzlich werden Werte, welche nicht als Promise zur&#xFC;ckgegeben werden, automatisch bef&#xF6;rdert (auto promotion). Das Promise wird einfach sofort nach dem Ausf&#xFC;hren <code>resolved</code>.</p>
<h3 class="mume-header" id="async-await">Async / Await</h3>

<p>Async und Await sind alternative Syntax f&#xFC;r Promises. Funktionen lesen sich so mehr wie imperativen Code.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token parameter">i</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> x <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">processEven</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span> <span class="token parameter">err</span> <span class="token arrow operator">=&gt;</span> err <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// on catch, err is returned</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;foo: &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-try">try</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> x <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">processEven</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;bar: &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;bar: &quot;</span> <span class="token operator">+</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><code>$ foo:4 bar:4 foo:3 bar:3</code></p>
</blockquote>
<p>Async und Await m&#xFC;ssen nicht verwendet werden, helfen aber manchmal beim Verst&#xE4;ndnis des Codes.</p>
<div class="admonition warning">
<p class="admonition-title">Nur Funktionen welche mit <code>async</code> gekenntzeichnet sind k&#xF6;nnen auch <code>await</code> verwenden.</p>
</div>
<h1 class="mume-header" id="koordination">Koordination</h1>

<p>Koordination wird dann ben&#xF6;tigt, wenn asynchron Programmiert wird. Mit Koordination ist dabei gemeint, wie asynchrone Aufrufe ausgef&#xFC;hrt werden. Daf&#xFC;r gibt es drei Arten, wie dies gemacht werden kann.</p>
<p>F&#xFC;r die Beispielcodes wird auf die <a href="#mvc">Todo Liste</a> die Koordination Beispielhaft implementiert. Dazu wird ein &quot;Feelin&apos; lucky&quot; Button hinzugef&#xFC;gt, welcher ein zuf&#xE4;lliges Fortune nach einer gewissen Zeit hinzuf&#xFC;gt.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> fortunes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;Do the WebPr Homework&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Care for the JavaScript Toolbox&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Watch the recommended videos&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Read the recommended chapters in You-dont-know-JS&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Do the dataflow excel challenge!&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// This function is called on button-click</span>
<span class="token keyword keyword-function">function</span> <span class="token function">fortuneService</span><span class="token punctuation">(</span><span class="token parameter">whenDone</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">whenDone</span><span class="token punctuation">(</span>fortunes<span class="token punctuation">[</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> fortunes<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="./resources/javascript/Coordination/Todo/FortuneService.js">Source</a></p>
<h2 class="mume-header" id="keine-koordination">Keine Koordination</h2>

<p>Es wird nichts f&#xFC;r die Koordination getan. JavaScript im Browser ist in diesem Fall Thread confined, also der Browser handhabt diese Asynchronit&#xE4;t und wir als Programmierer m&#xFC;ssen uns nicht darum k&#xFC;mmern.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">addFortuneTodo</span> <span class="token operator">=</span> <span class="token parameter">button</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> newTodo <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Todo</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  todoModel<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>newTodo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  newTodo<span class="token punctuation">.</span><span class="token method function property-access">setText</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fortuneService</span><span class="token punctuation">(</span> <span class="token parameter">text</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    newTodo<span class="token punctuation">.</span><span class="token method function property-access">setText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> newTodo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="./resources/javascript/Coordination/Todo/NoCoordination/Todo.js">Source</a></p>
<iframe src="resources/javascript/Coordination/Todo/NoCoordination/todo.html" frameborder="0" style="height:350px; width: 100%">
The todolist script should be here :(
</iframe>
<h2 class="mume-header" id="sequenz">Sequenz</h2>

<p>Sequenzen sind asynchrone Aktionen, welche in einer gewissen Reihenfolge ausgef&#xFC;hrt werden m&#xFC;ssen. Dies erfordert Koordination. Um dies umzusetzen wird sogenannte Delegated Coordination verwendet. Dabei wird die Koordination in an einen Koordinator gegeben, welcher dann diese Aktionen ab arbeitet (bzw. die Aktionen startet).</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token keyword keyword-const">const</span> scheduler <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Scheduler</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">addFortuneTodo</span> <span class="token operator">=</span> <span class="token parameter">button</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  button<span class="token punctuation">.</span><span class="token property-access">disabled</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> newTodo <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Todo</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  todoModel<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>newTodo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  newTodo<span class="token punctuation">.</span><span class="token method function property-access">setText</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// The scheduler runs the task in the lambda expression and</span>
  <span class="token comment">// waits until resolve is called</span>
  scheduler<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span> <span class="token parameter">resolve</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">fortuneService</span><span class="token punctuation">(</span> <span class="token parameter">text</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      newTodo<span class="token punctuation">.</span><span class="token method function property-access">setText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
      button<span class="token punctuation">.</span><span class="token property-access">disabled</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="./resources/javascript/Coordination/Todo/Sequencial/Todo.js">Source</a></p>
<p>F&#xFC;r die sequenzielle Implementierung wird ein sogenannter <code>Scheduler</code> verwendet. Dieser schaut unter anderem, dass erst wenn der Task fertig generiert ist, der Button um ein neuen Task anzulegen auch wieder freigegeben wird. Wird der Button nicht deaktiviert, werden die Tasks trotzdem nur nacheinander ausgef&#xFC;hrt.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// execute asynchronous tasks in strict sequence, aka &quot;reactive stream&quot;, &quot;flux architecture&quot;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Scheduler</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> inProcess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> tasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                     <span class="token comment">// fifo queue</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">process</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>inProcess<span class="token punctuation">)</span>          <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// guard clause -&gt; when already running, skip</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>tasks<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// guard clause -&gt; when no tasks in queue, skip</span>
    inProcess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> task <span class="token operator">=</span> tasks<span class="token punctuation">.</span><span class="token method function property-access">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// Load the new task</span>
    <span class="token keyword keyword-new">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> _</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> 
      <span class="token function">task</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// Run the task</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>                   <span class="token comment">// When finished</span>
      inProcess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token comment">// show that the scheduler is finished</span>
      <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// Restart the process</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token parameter">task</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    tasks<span class="token punctuation">.</span><span class="token method function property-access">unshift</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// append to end</span>
    <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// process the task</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    add<span class="token operator">:</span> add<span class="token punctuation">,</span>
    <span class="token function-variable function">addResolve</span><span class="token operator">:</span> <span class="token parameter">task</span> <span class="token arrow operator">=&gt;</span> <span class="token function">add</span><span class="token punctuation">(</span> <span class="token parameter">ok</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">task</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// convenience, will automatically make a scheduler task from a function</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="./resources/javascript/Coordination/Todo/Sequencial/Scheduler.js">Source</a></p>
<iframe src="resources/javascript/Coordination/Todo/Sequencial/Todo.html" frameborder="0" style="height:350px; width: 100%">
The todolist script should be here :(
</iframe>
<h2 class="mume-header" id="resultatabh%C3%A4ngigkeit">Resultatabh&#xE4;ngigkeit</h2>

<p>Aktion B und C ben&#xF6;tigen das Resultat von A. A muss genau einmal vor B und C ausgef&#xFC;hrt werden. Diese sogenannte implizite Koordination ist durch die Architektur gegeben, wesswegen diese implizit genannt wird. Umgesetzt wird dies mit sogenannten <code>DataFlowVariablen</code>.</p>
<p>Da die resultatabh&#xE4;ngige Koordination f&#xFC;r andere Use-Cases als die Todo Liste gedacht ist, wird hierf&#xFC;r das Beispiel <a href="#referencing">Excel</a> verwendet.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// a dataflow abstraction that is not based on concurrency but on laziness</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">DataFlowVariable</span></span> <span class="token operator">=</span> <span class="token parameter">howto</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> value <span class="token operator">=</span> <span class="token keyword nil keyword-undefined">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword nil keyword-undefined">undefined</span> <span class="token operator">===</span> value
    <span class="token operator">?</span> value <span class="token operator">=</span> <span class="token function">howto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p><a href="./resources/javascript/Coordination/ResultDependency/DataflowVariable.js">Source</a></p>
<iframe src="resources/javascript/Coordination/ResultDependency/View.html" frameborder="0" style="width: 100%">
The excel script should be here :(
</iframe>
<p><a href="resources/javascript/Coordination/ResultDependency/Excel.js">Source</a></p>
<h1 class="mume-header" id="strings">Strings</h1>

<p>In JavaScript k&#xF6;nnen Strings &#xFC;ber verschiedene Varianten angelegt werden. Spezielle Characters m&#xFC;ssen mit &quot;&quot; escaped werden. Das gilt auch f&#xFC;r &quot;&quot; selbst.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$   <span class="token string">&quot;askf\t&#xEB;&#xE4;3aa&quot;</span>           
 &#x2192; <span class="token string">&quot;askf    &#xEB;&#xE4;3aa&quot;</span>
$   <span class="token string">&quot;askf\\asd&quot;</span>             
 &#x2192; <span class="token string">&quot;askf\asd&quot;</span>
$   <span class="token string">&apos;askfasd&apos;</span>               
 &#x2192; <span class="token string">&quot;askfasd&quot;</span>
$   <span class="token string">&apos;Er sagte &quot;Hallo!&quot;&apos;</span>     
 &#x2192; <span class="token string">&quot;Er sagte \&quot;Hallo!\&quot;&quot;</span>
$   <span class="token string">&quot;Er sagte &apos;Hallo!&apos;&quot;</span>     
 &#x2192; <span class="token string">&quot;Er sagte &apos;Hallo!&apos;&quot;</span>
$   <span class="token keyword keyword-const">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
$   <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">x ist : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>          
 &#x2192; <span class="token string">&quot;x ist 1&quot;</span>
$   <span class="token operator">/</span>hallo\\s<span class="token operator">/</span>              
 &#x2192; <span class="token string">&quot;/hallo\\s/&quot;</span>
$   <span class="token known-class-name class-name">String</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hallo\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>       
 &#x2192; <span class="token string">&quot;/hallo\\s/&quot;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Strings k&#xF6;nnen mit <code>&quot;</code>, <code>&apos;</code> und <code>`</code> definiert werden. Die <code>&quot;</code> und <code>&apos;</code> werden als normale Strings verwendet, der Backtick wird f&#xFC;r sogenannte Template-Strings verwendet. Es handelt sich dabei um Literale Strings.<br>
Mithilfe des String-Konstruktors (<code>String()</code>) k&#xF6;nnen Escape-Characters umgangen werden, wie zum Beispiel beim generieren einer Regex.</p>
<h1 class="mume-header" id="loggen">Loggen</h1>

<p>Die sch&#xF6;nste Art in JavaScript zu loggen ist &#xFC;ber die Konsole.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> obj <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
&#x2192; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementByName</span><span class="token punctuation">(</span><span class="token string">&apos;body&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
&#x2192; <span class="token maybe-class-name">NodeList</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token spread operator">...</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">dir</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementByName</span><span class="token punctuation">(</span><span class="token string">&apos;body&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
&#x2192; <span class="token maybe-class-name">NodeList</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token spread operator">...</span> <span class="token comment">// schon aufgefaltet</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
&#x2192; &#x1F7E6; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">warn</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
&#x2192; &#x1F7E8; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
&#x2192; &#x1F7E5; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">debug</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
&#x2192; <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>JavaScript bietet diverse M&#xF6;glichkeiten auf die Konsole zu schreiben. Dabei gibt es wie bei den meisten Logging-Frameworks verschiedene Stufen, nach welchen auch gefiltert werden kann.</p>
<div class="admonition warning">
<p class="admonition-title">Wenn das ganze Logging &#xFC;ber die Konsole gemacht wird ben&#xF6;tigt das Speicher und Rechenpower, auch wenn gefiltert wird!</p>
</div>
<h2 class="mume-header" id="loglevel-programmatisch-setzen">Loglevel programmatisch setzen</h2>

<p>Um zu Log-Spam verhindern, k&#xF6;nnen die Logs auch ein- und ausgeschaltet werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers"><span class="token comment">// Define the log levels</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">LEVEL_NONE</span>    <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">LEVEL_ERROR</span>   <span class="token operator">=</span>  <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">LEVEL_WARN</span>    <span class="token operator">=</span>  <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">LEVEL_INFO</span>    <span class="token operator">=</span>  <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">LEVEL_LOG</span>     <span class="token operator">=</span>  <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">LEVEL_DEBUG</span>   <span class="token operator">=</span>  <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> logLevel <span class="token operator">=</span> <span class="token constant">LEVEL_LOG</span><span class="token punctuation">;</span>

<span class="token comment">// Create the logging functions</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">error</span> <span class="token operator">=</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>logLevel <span class="token operator">&gt;=</span> <span class="token constant">LEVEL_ERROR</span><span class="token punctuation">)</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">warn</span>  <span class="token operator">=</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>logLevel <span class="token operator">&gt;=</span> <span class="token constant">LEVEL_WARN</span><span class="token punctuation">)</span>  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">warn</span> <span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">info</span>  <span class="token operator">=</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>logLevel <span class="token operator">&gt;=</span> <span class="token constant">LEVEL_INFO</span><span class="token punctuation">)</span>  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">info</span> <span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">log</span>   <span class="token operator">=</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>logLevel <span class="token operator">&gt;=</span> <span class="token constant">LEVEL_LOG</span><span class="token punctuation">)</span>   <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span>  <span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">debug</span> <span class="token operator">=</span> <span class="token parameter">f</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>logLevel <span class="token operator">&gt;=</span> <span class="token constant">LEVEL_DEBUG</span><span class="token punctuation">)</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">debug</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">// Prints an error onto log</span>
<span class="token function">error</span><span class="token punctuation">(</span> <span class="token parameter">_</span><span class="token arrow operator">=&gt;</span> <span class="token function">longRunning</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//     &#x2191; ignore the variable</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Der Wert <code>logLevel</code> kann dann von jedem &#xFC;ber die JavaScript Konsole im Browser des Vertrauens gesetzt werden, und das Loglevel wird on-the-fly angepasst.<br>
Dieser Code funktioniert ganz einfach, man gibt den Loggingfunktionen eine Funktion mit, welche ausgef&#xFC;hrt wird nachdem <code>logLevel</code> &#xFC;berpr&#xFC;ft wurde.</p>
<div class="admonition warning">
<p class="admonition-title">W&#xFC;rde man das ganze mit einer Expression machen, w&#xFC;rde diese (bei der &#xDC;bergabe) zuerst evaluiert werden, auch wenn es sich dabei um eine lang laufende Funktion handelt!</p>
</div>
<h1 class="mume-header" id="arrays">Arrays</h1>

<div class="admonition info">
<p class="admonition-title">Ein Array ist ein Objekt</p>
</div>
<p>Arrays in JavaScript k&#xF6;nnen in mehreren wegen generiert werden. Ein weg ist der Literale Konstruktor, der andere ist der Funktionale Konstruktor.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token comment">// Literaler Konstruktor mit &apos;[]&apos;</span>
$ <span class="token keyword keyword-const">const</span> bar <span class="token operator">=</span> <span class="token known-class-name class-name">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Literaler Konstruktor mit &apos;[]&apos;</span>
$ <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> foo<span class="token punctuation">;</span>       <span class="token comment">// Literaler Dekonstruktor auf linker Seite</span>
$ first<span class="token punctuation">;</span>
&#x2192; <span class="token number">0</span>
$ second<span class="token punctuation">;</span>
&#x2192; <span class="token number">1</span>
$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>foo <span class="token operator">===</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
&#x2192; <span class="token boolean">true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Arrays k&#xF6;nnen auch f&#xFC;r viele andere Dinge verwendet werden, da sie on-the-fly generiert werden k&#xF6;nnen. So gibt es zum Beispiel auch eine viel einfachere M&#xF6;glichkeit, zwei Werte zu swappen.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
$ <span class="token keyword keyword-let">let</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
$ <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
$ x<span class="token punctuation">;</span>
&#x2192; <span class="token number">2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre><h2 class="mume-header" id="spread-operator-an-parameterposition">Spread-Operator <code>...</code> an Parameterposition</h2>

<p>Der Spread-Operator erlaubt es dem Benutzer beliebig viele Variablen in eine Funktion mitzugeben.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
$ <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
&#x2192; <span class="token number">6</span>
$ <span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
&#x2192; <span class="token string">&quot;123&quot;</span>
$ <span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
&#x2192; <span class="token string">&quot;12undefined&quot;</span>
$ <span class="token keyword keyword-const">const</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>a</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span>
$ <span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
&#x2192; <span class="token number">3</span>
$ <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
&#x2192; <span class="token number">0</span>
$ <span class="token keyword keyword-const">const</span> <span class="token function-variable function">foobar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
$ <span class="token function">foobar</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
&#x2192; <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Im Hintergrund wird ein Objekt erstellt, welches die einzelnen Werte abspeichert. Er verwandelt eine Liste von Elementen in ein Array von Elementen.</p>
<h2 class="mume-header" id="spread-operator-an-konstruktorposition">Spread-Operator <code>...</code> an Konstruktorposition</h2>

<p>Der Spread-Operator kann auch an Konstruktorposition verwendet werden, wo bei einer R&#xFC;ckgabe eines Arrays alle restlichen Werte in <code>rest</code> gespeichert werden.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
$ <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token spread operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> foo<span class="token punctuation">;</span>
$ rest
&#x2192; <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre><h2 class="mume-header" id="slice">Slice</h2>

<p>Slice wird verwendet um Arrays zu schneiden. Slice schneidet einen an einem und an einem anderen Ort, und gibt ein neues Array zur&#xFC;ck.</p>
<pre data-role="codeBlock" data-info="javascript{.line-numbers}" class="language-javascript line-numbers"><span class="token known-class-name class-name">Array</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token maybe-class-name">StartIndex</span><span class="token punctuation">,</span> <span class="token maybe-class-name">EndIndex</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><p><code>StartIndex</code> bestimmt wo das slicing beginnt, und der <code>EndIndex</code> bestimmt wo das slicing endet.</p>
<pre data-role="codeBlock" data-info="javascript{.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> chars <span class="token operator">=</span> <span class="token string">&quot;a b c d e f g&quot;</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$ chars
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>      <span class="token comment">// get all in between this index</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>   <span class="token comment">// also works with negative indexes</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment">// get all after the index</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// copy the array</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>       <span class="token comment">// remove last element</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">]</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h2 class="mume-header" id="splice">Splice</h2>

<p>Splice wird verwendet, um Arrays zu schneiden, aber auch um darin Elemente zu ersetzen. Splice entfernt die Werte in einem Bereich, und ersetzt Sie wenn ein Argument angegeben wird.</p>
<pre data-role="codeBlock" data-info="javascript{.line-numbers}" class="language-javascript line-numbers"><span class="token known-class-name class-name">Array</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span><span class="token maybe-class-name">StartIndex</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Length</span><span class="token punctuation">,</span> <span class="token spread operator">...</span><span class="token maybe-class-name">ReplaceWith</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><p><code>StartIndex</code> bestimmt, wo das splice beginnt, <code>Length</code> wie viele Elemente entfernt werden, und <code>RepalceWith</code> sind die Elemente welche dann in das Array eingef&#xFC;gt werden.</p>
<pre data-role="codeBlock" data-info="javascript{.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> chars <span class="token operator">=</span> <span class="token string">&quot;a b c d e f g&quot;</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$ chars
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>                  <span class="token comment">// get all in between this index</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
$ chars                               <span class="token comment">// Attention, original array was changed!</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span>
$ chars<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;z&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// get all in between this index and replace</span>
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">]</span>                               
$ chars
&#x2192; <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;z&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span> <span class="token comment">// Attention, original array was changed!</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><div class="admonition warning">
<p class="admonition-title">Splice arbeitet auf dem originalen Array, nicht auf einer Kopie.</p>
</div>
<h1 class="mume-header" id="semicolons">Semicolons</h1>

<p>Semicolons sind nicht freiwillig, JavaScript versucht einfach sie selbst zu setzen.</p>
<div class="admonition quote">
<p class="admonition-title">&quot;Unfortunately, JS has a misfeature called Automated Semicolon Insertion. It can fail in bad ways, so write like a professional.&quot; - Douglas Crockford, &quot;How JavaScript works.&quot;</p>
</div>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">it</span> <span class="token arrow operator">=&gt;</span> it <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
&#x2192; <span class="token string">&quot;hi&quot;</span>
&#x2192; <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>

$ <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span> <span class="token comment">// &lt;- Missing Semicolon</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">it</span> <span class="token arrow operator">=&gt;</span> it <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
&#x2192; <span class="token known-class-name class-name">TypeError</span><span class="token operator">:</span> <span class="token keyword nil keyword-undefined">undefined</span> is not an <span class="token function">object</span> <span class="token punctuation">(</span>evaluation <span class="token string">&apos;console.log(&quot;hi&quot;)[1, 2, 3]&apos;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>JavaScript sieht hier das <code>console.log</code> sowie das <code>[1, 2, 3]</code> als Ausdr&#xFC;cke. Somit wird beim vergessenen <code>;</code> ein Ausdruck generiert, welcher auf das <code>console.log</code> ausgef&#xFC;hrt wird, welches nach dem Ausf&#xFC;hren undefined ist.</p>
<h1 class="mume-header" id="javascript-iterator-protokol">JavaScript Iterator Protokol</h1>

<p>Mit dem query selector von JavaScript erh&#xE4;lt man eine sogenannte <code>NodeList</code>. Diese kann als iterierbare Liste angesehen werden - ist aber kein Array. Dem Iterator Protokoll geh&#xF6;ren noch weitere Klassen dazu, wie zum Beispiel HTMLCollection und Array.</p>
<pre data-role="codeBlock" data-info="javascript {.line-numbers}" class="language-javascript line-numbers">$ <span class="token keyword keyword-const">const</span> p <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$ p<span class="token punctuation">;</span>
&#x2192; <span class="token maybe-class-name">NodeList</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">]</span>
$ <span class="token keyword control-flow keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> n <span class="token keyword keyword-of">of</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// Supports lazy loading</span>
&#x2192; <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">Lorem</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
&#x2192; <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">Ipsum</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
&#x2192; <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>dolor<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

$ <span class="token keyword keyword-const">const</span> body <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">;</span> <span class="token comment">// HTMLCollection</span>
$ <span class="token keyword control-flow keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> c <span class="token keyword keyword-of">of</span> body<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
&#x2192; <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token maybe-class-name">Hello</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
&#x2192; <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">Lorem</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
&#x2192; <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">Ipsum</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
&#x2192; <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>dolor<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

$ <span class="token keyword control-flow keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> a <span class="token keyword keyword-of">of</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// Array</span>
&#x2192; <span class="token number">1</span>
&#x2192; <span class="token number">2</span>
&#x2192; <span class="token number">3</span>
&#x2192; <span class="token number">4</span>

$ <span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySeectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
&#x2192; <span class="token punctuation">[</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span><span class="token punctuation">]</span>

$ <span class="token punctuation">[</span><span class="token spread operator">...</span>p<span class="token punctuation">]</span> <span class="token comment">// We can also put iterators into the literal array constructor, and maken an array out of it</span>
&#x2192; <span class="token punctuation">[</span><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">]</span>

$ <span class="token keyword control-flow keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> n <span class="token keyword keyword-of">of</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
&#x2192; <span class="token string">&quot;a&quot;</span>
&#x2192; <span class="token string">&quot;b&quot;</span>
&#x2192; <span class="token string">&quot;c&quot;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Jedes Objekt kann Iterierbar werden, indem es die Symbol.iterator Funktion implementiert.</p>
<div class="admonition warning">
<p class="admonition-title">Bei for-Schleifen kann auch <code>in</code> verwendet werden. Dies f&#xFC;hrt aber nicht zum Ziel und zeigt die einzelnen Properties des Elements an - also zum Beispiel auch Funktionen.</p>
</div>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>